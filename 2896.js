/*! For license information please see 2896.js.LICENSE.txt */
"use strict";(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[2896],{8609:(e,t,r)=>{r.d(t,{SH:()=>A,_6:()=>_,cY:()=>E});var n,a=r(14041),o=r(13394),s=r(69446),i=r(89771),c=r(66656),u=r(47075);e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var l,d,p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},f=new s.j("lastTxScannerRequest",void 0,i.q.LocalStorage),m=new s.j("lastTxScannerResult",void 0,i.q.LocalStorage);function A(e,t){try{c.i.set(f,(0,u.A)({transaction:e,dappURL:t}))}catch(e){(0,o.gf)({error:e,context:"data_layer",severity:"error",isHandled:!0})}}function _(e){try{c.i.set(m,(0,u.A)(e))}catch(e){(0,o.gf)({error:e,context:"data_layer",severity:"error",isHandled:!0})}}function T(){var e,t,r=c.i.get(f),n=c.i.get(m);return"string"==typeof r&&(e=(0,u.q)(r)),"string"==typeof n&&(t=(0,u.q)(n)),{request:e,result:t}}function E(e){var t=e.clipboard,r=(0,a.useRef)(1);return(0,a.useCallback)((function(){if(r.current>=5&&r.current%5==0)try{var e=T(),n=e.request,a=e.result;t((0,u.A)({request:n,result:a}))}catch(e){(0,o.gf)({error:e,context:"data_layer",severity:"error",isHandled:!0})}r.current+=1}),[t])}p(E,"useRef{numClicks}\nuseCallback{}"),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(f,"StoreKeys_lastTxScannerRequest","/workspaces/libs/data/stores/TxScanner/hooks/useCopyTxScannerResultsToClipboard.tsx"),l.register(m,"StoreKeys_lastTxScannerResult","/workspaces/libs/data/stores/TxScanner/hooks/useCopyTxScannerResultsToClipboard.tsx"),l.register(A,"cacheTxScannerRequest","/workspaces/libs/data/stores/TxScanner/hooks/useCopyTxScannerResultsToClipboard.tsx"),l.register(_,"cacheTxScannerResult","/workspaces/libs/data/stores/TxScanner/hooks/useCopyTxScannerResultsToClipboard.tsx"),l.register(T,"getCachedTxScannerData","/workspaces/libs/data/stores/TxScanner/hooks/useCopyTxScannerResultsToClipboard.tsx"),l.register(E,"useCopyTxScannerResultsToClipboard","/workspaces/libs/data/stores/TxScanner/hooks/useCopyTxScannerResultsToClipboard.tsx")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)},69148:(e,t,r)=>{r.d(t,{f:()=>u});var n,a,o,s=r(66181),i=r(14928),c=r(58524);function u(){var e=(0,s.l)((0,i.T)("kill_switch_transaction_preview"));return!c.$9&&!e}e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(u,"useKillSwitch{isKillSwitched}",(function(){return[s.l]})),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(u,"useIsTxPreviewEnabled","/workspaces/libs/data/stores/TxScanner/hooks/useIsTxPreviewEnabled.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},62759:(e,t,r)=>{r.d(t,{s:()=>N});var n,a=r(14041),o=r(71847),s=r(98053),i=r(52042),c=r(53769),u=r(16835),l=r(69148);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(){p=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof g?t:g,s=Object.create(o.prototype),i=new x(n||[]);return a(s,"_invoke",{value:C(e,r,i)}),s}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var m="suspendedStart",A="suspendedYield",_="executing",T="completed",E={};function g(){}function h(){}function y(){}var b={};u(b,s,(function(){return this}));var S=Object.getPrototypeOf,v=S&&S(S(k([])));v&&v!==r&&n.call(v,s)&&(b=v);var N=y.prototype=g.prototype=Object.create(b);function R(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function r(a,o,s,i){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==d(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,s,i)}),(function(e){r("throw",e,s,i)})):t.resolve(l).then((function(e){u.value=e,s(u)}),(function(e){return r("throw",e,s,i)}))}i(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function C(t,r,n){var a=m;return function(o,s){if(a===_)throw Error("Generator is already running");if(a===T){if("throw"===o)throw s;return{value:e,done:!0}}for(n.method=o,n.arg=s;;){var i=n.delegate;if(i){var c=I(i,n);if(c){if(c===E)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=T,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=_;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?T:A,u.arg===E)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=T,n.method="throw",n.arg=u.arg)}}}function I(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),E;var o=f(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,E;var s=o.arg;return s?s.done?(r[t.resultName]=s.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,E):s:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,E)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(d(t)+" is not iterable")}return h.prototype=y,a(N,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:h,configurable:!0}),h.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,c,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},R(w.prototype),u(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var s=new w(l(e,r,n,a),o);return t.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},R(N),u(N,c,"Generator"),u(N,s,(function(){return this})),u(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return i.type="throw",i.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],i=s.completion;if("root"===s.tryLoc)return a("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),u=n.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return a(s.catchLoc,!0);if(this.prev<s.finallyLoc)return a(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return a(s.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return a(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,E):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),E},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),E}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;L(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),E}},t}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e,t,r,n,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,a)}function T(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){_(o,n,a,s,i,"next",e)}function i(e){_(o,n,a,s,i,"throw",e)}s(void 0)}))}}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,i=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(i.push(n.value),i.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var h,y,b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},S="".concat(c.wh,"_cache_key1"),v="".concat(i.xW,"_cache_key1");function N(e){var t=e.queryClient,n=e.queryKey,o=e.logTimeout,s=e.scannerService,i=(0,a.useRef)(),c=E((0,a.useState)(!1),2),u=c[0],l=c[1],d=R(s),f=(0,a.useCallback)((function(e){l(!1);var a=null!=d?d:5e3;i.current={timeout:r.g.setTimeout(T(p().mark((function r(){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i.current=void 0,r.next=3,t.cancelQueries(n);case 3:o(m(m({},e),{},{timeoutLength:a})),l(!0);case 5:case"end":return r.stop()}}),r)}))),a),startTime:Date.now(),timeoutLength:a,props:e}}),[t,n,d,o]),A=(0,a.useCallback)((function(){var e;i.current&&(clearTimeout(null===(e=i.current)||void 0===e?void 0:e.timeout),i.current=void 0)}),[]);return(0,a.useEffect)((function(){if(i.current&&d){var e=Date.now()-i.current.startTime;if(!(e>i.current.timeoutLength)){clearTimeout(i.current.timeout);var a=m(m({},i.current.props),{},{timeoutLength:d});i.current=m(m({},i.current),{},{timeout:r.g.setTimeout(function(){var e=T(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.current=void 0,e.next=3,t.cancelQueries(n);case 3:o(a),l(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d-e)})}}}),[d,o,t,n]),{startRequestTimeout:f,clearRequestTimeout:A,hasRequestTimedOut:u}}function R(e){var t=(0,l.f)(),r=(0,o.x)("message_scanner"),n=e===u.I.TX_SCANNER,a=n?t:r,d=n?S:v,p=n?c.d6:i.eA,f=(0,s.I)([d],p,{staleTime:6e4,retry:!1,enabled:a});return null==f?void 0:f.data}b(N,"useRef{timeoutRef}\nuseState{[hasRequestTimedOut, setRequestTimedOut](false)}\nuseConfiguredTimeout{configuredTimeout}\nuseCallback{startRequestTimeout}\nuseCallback{clearRequestTimeout}\nuseEffect{}",(function(){return[R]})),b(R,"useIsTxPreviewEnabled{isTxPreviewEnabled}\nuseIsFeatureEnabled{isMessageScannerEnabled}\nuseQuery{timeout}",(function(){return[l.f,o.x,s.I]})),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(S,"TX_SCANNER_TIMEOUT_CACHE_KEY","/workspaces/libs/data/stores/TxScanner/hooks/useStartRequestTimeout.tsx"),h.register(v,"MESSAGE_SCANNER_TIMEOUT_CACHE_KEY","/workspaces/libs/data/stores/TxScanner/hooks/useStartRequestTimeout.tsx"),h.register(N,"useStartRequestTimeout","/workspaces/libs/data/stores/TxScanner/hooks/useStartRequestTimeout.tsx"),h.register(R,"useConfiguredTimeout","/workspaces/libs/data/stores/TxScanner/hooks/useStartRequestTimeout.tsx")),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&y(e)},28556:(e,t,r)=>{r.d(t,{Q:()=>c});var n,a=r(10611),o=r(16835);e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var s,i;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function c(e,t,r){var n=t===a.D.whitelisted.SOLANA_MAINNET.chainId;if(t){var s=e.filter((function(e){return e.operationType===o.S.BALANCE_TRANSFER||e.operationType===o.S.BALANCE_TRANSFER_RANGE})).map((function(e){var a;return{code:e.currencyCode,chainId:t.toString(),networkId:r,contractAddress:n?e.contractAddress:null===(a=e.contractAddress)||void 0===a?void 0:a.toLowerCase()}}));if(null!=s&&s.length)return s}}(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(c,"getAssetsFromOperations","/workspaces/libs/data/stores/TxScanner/utils/getAssetsFromOperations.tsx"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},61513:(e,t,r)=>{r.d(t,{B:()=>Y});var n=r(14041),a=r(41513),o=r(84141),s=r(48087),i=r(99172),c=r(8609),u=r(32183),l=r(8867),d=r(10611),p=r(4244),f=r(7077),m=r(2775),A=r(16835),_=r(52800);const T=19,E=22;function g(e,t){return t?"+":0n!==e?"\u2212":""}const h=(0,u.YK)({unlimitedTokens:{id:"kNNL7s",defaultMessage:"Unlimited {currencyCode}"},unknownCollection:{id:"oM/YKG",defaultMessage:"Unknown collection"},itemApproval:{id:"TY5zEf",defaultMessage:"{collectionName} {nftName}"},itemTransfer:{id:"aJ49yB",defaultMessage:"{symbol}{quantity}{collectionName} {nftName}"},balanceTransfer:{id:"yYDXiS",defaultMessage:"{symbol}{cryptoAmount}"}});function y({operations:e,userWalletAddress:t,network:r,largeTextCharLimit:a=T,smallTextCharLimit:o=E,exchangeRatesMap:s,activeFiatCurrency:i}){const c=r?.asChain()?.chainId===d.D.whitelisted.SOLANA_MAINNET.chainId,{formatters:u}=(0,l.A)(),{formatToCrypto:y}=(0,p.J9)(),{formatMessage:b}=(0,l.A)(),S=(0,n.useCallback)((function(e){return y({value:e.amountValue,currencyCode:e.currencyCode,decimals:BigInt(e.decimals),includeCode:!0,maxDisplayDecimals:8n,shouldDisplayDustAmount:!1})}),[y]),v=(0,n.useCallback)((function(e){return(0,f.c)({fromCurrencyCode:e.currencyCode,decimals:BigInt(e.decimals),value:e.amountValue,contractAddress:c?e.contractAddress:e.contractAddress?.toLowerCase(),network:r,exchangeRatesMap:s,fiatCurrency:i,formatters:u})}),[i,s,u,c,r]),N=(0,n.useCallback)((e=>{let n,l,d="";switch(e.operationType){case A.S.ITEM_APPROVAL:d=b(h.itemApproval,{collectionName:e.collectionName,nftName:e.NFTName});break;case A.S.ITEM_APPROVAL_ALL:d=e.collectionName||b(h.unknownCollection);break;case A.S.ITEM_TRANSFER:{l=e.toAddress.toLowerCase()===t.toLowerCase();const r=(0,_.Ee)(e,l),n=r>1n?`${r} `:"";d=b(h.itemTransfer,{symbol:l?"+":"\u2212",collectionName:e.collectionName,nftName:e.NFTName,quantity:n});break}case A.S.BALANCE_APPROVAL:if(0n===e.amountValue){d=e.currencyCode.rawValue;break}if(e.currentBalanceValue&&e.currentBalanceValue<e.amountValue){d=b(h.unlimitedTokens,{currencyCode:e.currencyCode.rawValue});break}d=S(e)||"";break;case A.S.BALANCE_TRANSFER:{l=e.toAddress.toLowerCase()===t.toLowerCase();const r=S(e),a=v(e),o=g(e.amountValue,l);d=b(h.balanceTransfer,{symbol:o,cryptoAmount:r||""}),a&&(n=a.toString());break}case A.S.BALANCE_TRANSFER_RANGE:{l=e.toAddress.toLowerCase()===t.toLowerCase();const a=(0,_.DH)(e,l),o=y({value:a,currencyCode:e.currencyCode,decimals:BigInt(e.decimals),includeCode:!0,maxDisplayDecimals:8n,shouldDisplayDustAmount:!1}),p=(0,f.c)({fromCurrencyCode:e.currencyCode,decimals:BigInt(e.decimals),value:a,contractAddress:c?e.contractAddress:e.contractAddress?.toLowerCase(),network:r,exchangeRatesMap:s,formatters:u,fiatCurrency:i}),m=g(a,l);d=b(h.balanceTransfer,{symbol:m,cryptoAmount:o||""}),p&&(n=p.toString());break}}return{fullString:d,subscriptString:n,shortenedStringLargeFont:(0,m.Eu)(d,a),shortenedStringSmallFont:(0,m.Eu)(d,o),isTokenBeingDepositedIntoWallet:l}}),[a,o,b,t,S,v,y,c,r,s,u,i]);return(0,n.useMemo)((()=>{let t=!1;return{content:e.map((function(e){const r=N(e);return r.fullString.length>a&&(t=!0),r})),contentExceedsCharLimit:t}}),[e,N,a])}var b,S=r(72127),v=r(31013),N=r(2673),R=r(15654),w=r(55799),C=r(37742),I=r(18874),O=r(35001),L=r(67209),x=r(39262),k=r(60149),P=r(94330),B=r(31085);function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){V(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=M(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==M(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,i=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(i.push(n.value),i.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}e=r.hmd(e),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&b(e);var j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},H="vlzlpab",W=(0,n.memo)((function(e){var t=e.isPreAuthorizedOperation,r=e.content,n=r.fullString,a=r.subscriptString,o=r.shortenedStringSmallFont,s=r.shortenedStringLargeFont,i=r.isTokenBeingDepositedIntoWallet,c=e.showSmallerFontSizes,u=c?o:s,l=n!==u,d=!t&&i?"positive":void 0,p=a&&(0,B.jsx)(L.V,{as:"span",spacingHorizontal:1,color:"foregroundMuted",testID:"subscript-text",spacingBottom:1,children:a}),f=c?(0,B.jsxs)(R.T,{children:[(0,B.jsx)(x.w,{as:"span",color:d,testID:"headline-text",children:u}),p]}):(0,B.jsxs)(R.T,{children:[(0,B.jsx)(k.f,{as:"span",color:d,children:u}),p]});return l?(0,B.jsx)(O.m,{testID:"cb-tooltip",content:n,placement:"bottom",children:f}):f})),Q=(0,n.memo)((function(e){var t=e.operations,r=e.networkChainId,o=t.length>4,s=t.map((function(e){switch(e.operationType){case A.S.ITEM_TRANSFER:case A.S.ITEM_APPROVAL:case A.S.ITEM_APPROVAL_ALL:return e.shouldUseRemoteImage?(0,B.jsx)(C.W,{source:e.imageUrl,testID:"remote-image-item",height:"45px",width:"45px",size:"xl",borderColor:"secondary"},"".concat(e.operationType,"-").concat(Math.random())):(0,B.jsx)(S.Vz,{imageUrl:e.imageUrl,borderColor:"secondary",chainId:r||"",width:"40px",height:"40px"},"".concat(e.operationType,"-").concat(Math.random()));case A.S.BALANCE_TRANSFER:case A.S.BALANCE_TRANSFER_RANGE:case A.S.BALANCE_APPROVAL:return(0,B.jsx)(C.W,{source:e.imageUrl,shape:"circle",size:"xl",borderColor:"secondary"},"".concat(e.operationType,"-").concat(Math.random()));default:return null}}));return(0,B.jsx)("div",{className:o?(0,a.cx)(H):void 0,children:(0,B.jsx)(I.r,{size:"xl",max:Number.POSITIVE_INFINITY,testID:o?"vertical-icon-list":"horizontal-icon-list",children:s.map((function(e){return(0,B.jsx)(n.Fragment,{children:e},Math.random())}))})})})),q=(0,n.memo)(j((function(e){var t=e.operations,r=e.addTopSpacing,a=void 0!==r&&r,o=e.isPreAuthorizedOperations,i=e.operationsContent,c=e.showSmallerFontSizes,u=e.isRevokeOperation,l=e.networkChainId,d=e.operationSource,p=void 0===d?A.I.TX_SCANNER:d,f=(0,s.S)(p),m=F((0,n.useMemo)((function(){var e="",t="";return u?(e=f.revokeAllowanceHeader,t=f.revokeAllowanceTooltipContent):o?(e=f.preauthorizeHeader,t=f.preauthorizeTooltipContent):(e=f.assetChangeHeader,t=f.assetChangeTooltipContent),[e,t]}),[f,o,u]),2),_=m[0],T=m[1];return t.length?(0,B.jsxs)(w.a,{flexDirection:"column",spacingTop:a?2:0,children:[(0,B.jsxs)(w.a,{spacingBottom:2,alignItems:"center",children:[(0,B.jsx)(P.C,{as:"div",children:_}),(0,B.jsx)(O.m,{content:T,placement:"bottom",children:(0,B.jsx)(N.I,{testID:o?"cb-preauthorize-warning":"cb-asset-changes-warning",name:"info",size:"xs",color:"foregroundMuted",spacingStart:1})})]}),(0,B.jsxs)(w.a,{justifyContent:"space-between",alignItems:"center",children:[(0,B.jsx)(w.a,{flexDirection:"column",children:i.map((function(e){return(0,B.jsx)(W,{content:e,isPreAuthorizedOperation:o,showSmallerFontSizes:c},Math.random())}))}),(0,B.jsx)(Q,{operations:t,networkChainId:l})]})]}):null}),"useTxPreviewMessages{txPreviewMessages}\nuseMemo{[headerMessage, headerTooltipContent]}",(function(){return[s.S]})));function z(e){var t=e.userWalletAddress,r=e.parsedOperations,a=r.assetChangeOperations,s=r.preAuthorizeOperations,u=e.analyticsData,l=e.txScannerLoadStartTime,d=e.resetLoadTimer,p=e.isRevokeOperation,f=e.networkChainId,m=e.network,A=e.operationSource,_=e.exchangeRatesMap,T=e.activeFiatCurrency,E=(0,v.i)(),g=(0,n.useMemo)((function(){if(l){var e=Date.now()-l;return d(),e}}),[d,l]),h=(0,n.useMemo)((function(){return null!=m?m:i.lg.fromChainId({chainId:BigInt(null!=f?f:1)})}),[m,f]),b=y({operations:a,userWalletAddress:t,network:h,exchangeRatesMap:_,activeFiatCurrency:T}),S=b.content,N=b.contentExceedsCharLimit,R=y({operations:s,userWalletAddress:t,network:h,exchangeRatesMap:_,activeFiatCurrency:T}),C=R.content,I=R.contentExceedsCharLimit;(0,o.$d)(G(G({},u),{},{elapsedTimeToRenderTxPreviewComponent:g}));var O=(0,c.cY)({clipboard:E});return(0,B.jsxs)(w.a,{background:"backgroundAlternate",spacingHorizontal:3,spacingVertical:2,flexDirection:"column",onClick:O,testID:"tx-preview-component",children:[(0,B.jsx)(q,{operations:s,isPreAuthorizedOperations:!0,operationsContent:C,showSmallerFontSizes:N||I,isRevokeOperation:p,networkChainId:f,operationSource:A}),(0,B.jsx)(q,{operations:a,isPreAuthorizedOperations:!1,addTopSpacing:s.length>0,operationsContent:S,showSmallerFontSizes:N||I,networkChainId:f,operationSource:A})]})}j(z,"useClipboard{clipboard}\nuseMemo{elapsedTimeToRenderTxPreviewComponent}\nuseMemo{resolvedNetwork}\nuseTextDetailsForOperations{{\n    content: assetChangeOperationsContent,\n    contentExceedsCharLimit: assetChangeShowSmallFontSize\n  }}\nuseTextDetailsForOperations{{\n    content: preAuthorizeOperationsContent,\n    contentExceedsCharLimit: preAuthShowSmallFontSize\n  }}\nuseTriggerTxPreviewLoaded{}\nuseCopyTxScannerResultsToClipboard{txPreviewClicked}",(function(){return[v.i,y,y,o.$d,c.cY]}));var X,K,Y=(0,n.memo)(z);r(24770),(X="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(X.register(H,"verticalIconGroupContainer","/workspaces/libs/wallet-cds-web/components/TxPreview/TxPreview.tsx"),X.register(W,"TokenContent","/workspaces/libs/wallet-cds-web/components/TxPreview/TxPreview.tsx"),X.register(Q,"IconGroup","/workspaces/libs/wallet-cds-web/components/TxPreview/TxPreview.tsx"),X.register(q,"OperationGroup","/workspaces/libs/wallet-cds-web/components/TxPreview/TxPreview.tsx"),X.register(z,"TxPreviewComponent","/workspaces/libs/wallet-cds-web/components/TxPreview/TxPreview.tsx"),X.register(Y,"TxPreview","/workspaces/libs/wallet-cds-web/components/TxPreview/TxPreview.tsx")),(K="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&K(e)},44080:(e,t,r)=>{r.d(t,{l:()=>h});var n,a=r(14041),o=r(48087),s=r(16835),i=r(2673),c=r(55799),u=r(84492),l=r(35001),d=r(46807),p=r(66809),f=r(1001),m=r(11667),A=r(67209),_=r(31085);function T(e){var t=e.operationSource,r=void 0===t?s.I.TX_SCANNER:t,n=(0,o.S)(r);return(0,_.jsxs)(c.a,{flexDirection:"column",dangerouslySetBackground:"rgb(var(--gray15))",spacingHorizontal:3,spacingVertical:2,testID:"tx-scanner-fallback",children:[(0,_.jsxs)(u.z,{children:[(0,_.jsx)(A.V,{as:"p",color:"foregroundMuted",children:n.fallbackTitle}),(0,_.jsx)(l.m,{content:n.assetChangeTooltipContent,placement:"bottom",children:(0,_.jsx)(i.I,{testID:"dapp-transaction-safety-tooltip-icon",name:"info",size:"xs",color:"foregroundMuted",spacingStart:.5})})]}),(0,_.jsx)(d.X,{children:(0,_.jsx)(p.B,{children:(0,_.jsx)(f.H,{className:y,children:(0,_.jsx)(m.v,{title:!0,end:"pictogram",innerSpacing:{spacingHorizontal:0,spacingTop:0}})})})})]})}e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(T,"useTxPreviewMessages{txPreviewMessages}",(function(){return[o.S]}));var E,g,h=(0,a.memo)(T),y="s4pjp9p";r(44830),(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(E.register(T,"TxScannerFallback","/workspaces/libs/wallet-cds-web/components/TxPreviewFallback/TxPreviewFallback.tsx"),E.register(h,"TransactionScannerFallback","/workspaces/libs/wallet-cds-web/components/TxPreviewFallback/TxPreviewFallback.tsx"),E.register(y,"style","/workspaces/libs/wallet-cds-web/components/TxPreviewFallback/TxPreviewFallback.tsx")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)},24770:(e,t,r)=>{r.r(t)},44830:(e,t,r)=>{r.r(t)},44002:(e,t,r)=>{r.d(t,{xs:()=>_,mM:()=>f,R5:()=>u,hQ:()=>l,PK:()=>i,bG:()=>c,Ru:()=>d,HO:()=>p,h_:()=>A,UD:()=>m});var n=r(34767),a=r(55452);const o={WEB_3_REQUEST_SCAN_TX_INVOKED:"scan_tx.web3_request.scan_tx_invoked",WEB_3_REQUEST_SCAN_TX_SUCCESS:"scan_tx.web3_request.scan_tx_success",WEB_3_REQUEST_SCAN_TX_TIMEOUT:"scan_tx.web3_request.scan_tx_timeout",WEB_3_REQUEST_SCAN_TX_UNHANDLED_OPERATION_TYPE:"scan_tx.web3_request.scan_tx_unhandled_operation_type",WEB_3_REQUEST_SCAN_TX_ERROR:"scan_tx.web3_request.scan_tx_error",WEB_3_REQUEST_SCAN_TX_INVALID_QUERY:"scan_tx.web3_request.scan_tx_invalid_query",WEB_3_REQUEST_GET_CRYPTO_CURRENCIES_SUCCESS:"scan_tx.web3_request.get_crypto_currencies_success",WEB_3_REQUEST_GET_CRYPTO_CURRENCIES_IMAGE_NOT_FOUND:"scan_tx.web3_request.get_crypto_currencies_image_not_found",WEB_3_REQUEST_GET_CRYPTO_CURRENCIES_ERROR:"scan_tx.web3_request.get_crypto_currencies_error",WEB_3_REQUEST_PARSING_ERROR:"scan_tx.web3_request.parsing_error",WEB_3_REQUEST_TOKEN_IMAGE_NOT_RETURNED:"scan_tx.web3_request.token_image_not_returned",WEB_3_REQUEST_SUCCESSFULLY_PARSED_WITH_OPERATION_DETAILS:"scan_tx.web3_request.SUCCESSFULLY_PARSED_WITH_OPERATION_DETAILS",SCAN_TX_NATIVE_SEND_ANOMALY:"scan_tx.native_send_anomaly"};function s(e,t){const r={blockchain:t.blockchain,walletType:t.walletType,simulationEnabled:t.simulationEnabled,operationType:t.operationType,isInvokedFromNativeSend:t.isInvokedFromNativeSend};return(0,a.N8)({metricName:e,metricType:n.vj.count,value:1,tags:{...r}}),(0,a.Np)(e,t)}function i(e){s(o.WEB_3_REQUEST_SCAN_TX_SUCCESS,e)}function c(e){s(o.WEB_3_REQUEST_SCAN_TX_TIMEOUT,e)}function u(e){s(o.WEB_3_REQUEST_SCAN_TX_UNHANDLED_OPERATION_TYPE,e)}function l(e){s(o.WEB_3_REQUEST_SCAN_TX_INVALID_QUERY,e)}function d(e){s(o.WEB_3_REQUEST_SCAN_TX_ERROR,e)}function p(e){s(o.WEB_3_REQUEST_SCAN_TX_INVOKED,e)}function f(e,t){const r={operationType:e,errorMessage:t?.message,errorName:t?.name};var n,s;n=o.WEB_3_REQUEST_PARSING_ERROR,s=r,(0,a.Np)(n,s)}function m(e){s(o.WEB_3_REQUEST_TOKEN_IMAGE_NOT_RETURNED,{dappURL:"",request:"",...e})}function A(e){s(o.WEB_3_REQUEST_SUCCESSFULLY_PARSED_WITH_OPERATION_DETAILS,e)}function _(e){s(o.SCAN_TX_NATIVE_SEND_ANOMALY,e)}},84141:(e,t,r)=>{r.d(t,{zE:()=>i,NN:()=>s,RQ:()=>c,Dw:()=>l,$d:()=>u,wl:()=>m,uE:()=>d,x6:()=>p,oM:()=>f,wZ:()=>A});var n=r(34767),a=r(55452);const o={WEB3_REQUEST_TX_GENERATION_START:"sign_transaction.web3_request.tx_generation_start",WEB3_REQUEST_TX_GENERATION_ERROR:"sign_transaction.web3_request.tx_generation_error",SIGN_TRANSACTION_WEB3_REQUEST_SENDING_SUCCESS_RESPONSE:"sign_transaction.web3_request.sending_success",WEB3_REQUEST_SENDING_CANCELED_RESPONSE:"sign_transaction.web3_request.sending_canceled",SIGN_TRANSACTION_WEB3_REQUEST_TRANSACTION_REQUEST_VIEWED:"sign_transaction.web3_request.transaction_request_viewed",SIGN_TRANSACTION_WEB3_REQUEST_FRAUD_WARNING_CONFIRMATION_POPUP_REQUEST_VIEWED:"sign_transaction.web3_request.fraud_warning_confirmation_popup_request_viewed",SIGN_TRANSACTION_WEB3_REQUEST_FRAUD_WARNING_CONFIRMATION_BACK_BUTTON_CLICKED:"sign_transaction.web3_request.fraud_warning_confirmation_back_button_clicked",TX_APPROVAL_COMPONENT_LOADED:"tx_approval_component_loaded",SIGN_TRANSACTION_WEB3_REQUEST_TX_PREVIEW_COMPONENT_LOADED:"sign_transaction_web3_request.tx_preview_component_loaded",SIGN_TRANSACTION_WEB3_REQUEST_TX_ERROR_COMPONENT_LOADED:"sign_transaction_web3_request.tx_error_component_loaded",SIGN_TRANSACTION_WEB3_REQUEST_CONFIRM_TRANSACTION_CLICKED:"sign_transaction.web3_request.confirm_transaction_clicked",SIGN_TRANSACTION_WEB3_REQUEST_FRAUD_WARNING_CONFIRMATION_CLICKED:"sign_transaction.web3_request.fraud_warning_confirmation_clicked",SIGN_TRANSACTION_WEB3_REQUEST_SIGN_TRANSACTION_ERROR:"sign_transaction.web3_request.sign_transaction_error",SIGN_TRANSACTION_REQUEST_CONFIRM_BUTTON_ENABLED:"sign_transaction.web3_request.confirm_button_enabled"};function s(e){(0,a.cp)(o.SIGN_TRANSACTION_WEB3_REQUEST_TRANSACTION_REQUEST_VIEWED,{loggingId:"396c898f-c5ab-4f7a-ba3e-43fd9f3858d6",componentType:n.I5.page,action:n.X2.view,dapp:e?.dappURL,...e})}function i(e){(0,a.cp)(o.SIGN_TRANSACTION_WEB3_REQUEST_FRAUD_WARNING_CONFIRMATION_POPUP_REQUEST_VIEWED,{loggingId:"92cd7a0a-6f1c-49af-a386-3184464d8634",action:n.X2.view,componentType:n.I5.page,dapp:e.dappURL,...e})}function c(e){return(0,a.gd)(o.SIGN_TRANSACTION_WEB3_REQUEST_FRAUD_WARNING_CONFIRMATION_BACK_BUTTON_CLICKED,{action:n.X2.click,componentType:n.I5.button,dapp:e.dappURL,...e})}function u(e){(0,a.cp)(o.SIGN_TRANSACTION_WEB3_REQUEST_TX_PREVIEW_COMPONENT_LOADED,{loggingId:"21817d96-e697-4b8d-bba3-48fed57a6b1c",action:n.X2.render,componentType:n.I5.unknown,dapp:e.dappURL,...e})}function l(e){(0,a.cp)(o.SIGN_TRANSACTION_WEB3_REQUEST_TX_ERROR_COMPONENT_LOADED,{loggingId:"68c3b689-4c11-427f-a034-b310700f77a1",action:n.X2.render,componentType:n.I5.unknown,dapp:e.dappURL,...e})}function d(e){const t=(0,a.gd)(o.SIGN_TRANSACTION_WEB3_REQUEST_CONFIRM_TRANSACTION_CLICKED,{loggingId:"1529a00c-267c-48af-b931-2a82e93ba27c",action:n.X2.click,componentType:n.I5.button,dapp:e.dappURL,...e},n.$c.high);return()=>{(0,a.N8)({metricType:n.vj.count,metricName:o.SIGN_TRANSACTION_WEB3_REQUEST_CONFIRM_TRANSACTION_CLICKED,value:1,tags:{web3_method:e.request,blockchain:e.blockchain,chain_id:e.chainId}}),t()}}function p(e){return(0,a.gd)(o.SIGN_TRANSACTION_WEB3_REQUEST_FRAUD_WARNING_CONFIRMATION_CLICKED,{loggingId:"b3e5390f-ebf7-4759-846c-34432edc8da2",action:n.X2.click,componentType:n.I5.button,dapp:e.dappURL,...e},n.$c.high)}function f(e){return(0,a.gd)(o.SIGN_TRANSACTION_WEB3_REQUEST_SENDING_SUCCESS_RESPONSE,{loggingId:"8723cd14-81d1-4c6d-9c6f-5ee9c94e63d7",action:n.X2.measurement,componentType:n.I5.unknown,dapp:e.dappURL,...e},n.$c.high)}function m(e){return(0,a.gd)("sign_transaction.web3_request.cancel_transaction_clicked",{loggingId:"18c2d6a6-0b8f-4af1-b5e0-f0c1496bbd26",action:n.X2.click,componentType:n.I5.button,dapp:e.dappURL,...e},n.$c.high)}function A(e){return(0,a.gd)(o.SIGN_TRANSACTION_WEB3_REQUEST_SIGN_TRANSACTION_ERROR,{...e.eventData,loggingId:"ad70b8de-b408-4ef6-9204-ee580c4d1025",action:n.X2.measurement,componentType:n.I5.unknown,dapp:e.dappURL,...e},n.$c.high)}},48087:(e,t,r)=>{r.d(t,{S:()=>c});var n=r(14041),a=r(32183),o=r(8867),s=r(16835);const i=(0,a.YK)({revokeAllowanceHeader:{id:"V8k0KX",defaultMessage:"Revoke allowance"},preauthorizeHeader:{id:"EJUMuc",defaultMessage:"Pre-authorize withdrawal"},assetChangeHeader:{id:"jmBafj",defaultMessage:"Asset changes (estimate)"},preauthorizeTooltipContentForTransaction:{id:"At6Faa",defaultMessage:"This preview is based on a simulation of the transaction."},preauthorizeTooltipContentForMessage:{id:"I1e1X5",defaultMessage:"This preview is based on a simulation of the message."},assetChangeTooltipContentForTransaction:{id:"AVv4Nz",defaultMessage:"For your safety, we simulate the transaction in advance. This estimate may not be accurate."},assetChangeTooltipContentForMessage:{id:"GKBpfP",defaultMessage:"For your safety, we simulate the message in advance. This estimate may not be accurate."},revokeAllowanceTooltipContent:{id:"9a1h4g",defaultMessage:"This removes a dapp's ability to withdraw a particular token or NFT from your wallet."},fallbackTitleForTransaction:{id:"OnGi2E",defaultMessage:"Previewing your transaction...."},fallbackTitleForMessage:{id:"mQXajY",defaultMessage:"Previewing your message...."},messagePreviewDisclaimer:{id:"hQZ6nd",defaultMessage:"By signing this request, you will allow the dapp to create a transaction for the above asset changes in the future. Those changes may not occur immediately."}});function c(e){const{formatMessage:t}=(0,o.A)();return(0,n.useMemo)((()=>({revokeAllowanceHeader:t(i.revokeAllowanceHeader),preauthorizeHeader:t(i.preauthorizeHeader),assetChangeHeader:t(i.assetChangeHeader),preauthorizeTooltipContent:e===s.I.TX_SCANNER?t(i.preauthorizeTooltipContentForTransaction):t(i.preauthorizeTooltipContentForMessage),assetChangeTooltipContent:e===s.I.TX_SCANNER?t(i.assetChangeTooltipContentForTransaction):t(i.assetChangeTooltipContentForMessage),revokeAllowanceTooltipContent:t(i.revokeAllowanceTooltipContent),fallbackTitle:e===s.I.TX_SCANNER?t(i.fallbackTitleForTransaction):t(i.fallbackTitleForMessage),messagePreviewDisclaimer:t(i.messagePreviewDisclaimer)})),[e,t])}},52042:(e,t,r)=>{r.d(t,{LU:()=>i,eA:()=>c,xW:()=>o});var n=r(16835),a=r(74146);const o="scanMessageTimeout",s="scanMessage";async function i(e,t,r,o){const i=`eth_sign_typed_data_${r}_params`,{result:c}=await(0,a.TB)(s,{[i]:{signer:e,data:t,domain:o}});return function(e){return e.decodedMessage.operations?.forEach((function(e){e.operationType===n.S.BALANCE_TRANSFER&&(e.balanceTransfer.amountRange?.startAmount.currency&&void 0===e.balanceTransfer.amountRange?.startAmount.currency.decimals&&(e.balanceTransfer.amountRange.startAmount.currency.decimals=0),e.balanceTransfer.amountRange?.endAmount.currency&&void 0===e.balanceTransfer.amountRange?.endAmount.currency.decimals&&(e.balanceTransfer.amountRange.endAmount.currency.decimals=0),e.balanceTransfer.currentBalance&&void 0===e.balanceTransfer.currentBalance.currency.decimals&&(e.balanceTransfer.currentBalance.currency.decimals=0)),e.operationType===n.S.BALANCE_APPROVAL&&(e.balanceApproval?.amount?.currency&&void 0===e.balanceApproval.amount.currency.decimals&&(e.balanceApproval.amount.currency.decimals=0),e.balanceApproval.currentBalance&&void 0===e.balanceApproval.currentBalance.currency.decimals&&(e.balanceApproval.currentBalance.currency.decimals=0),e.balanceApproval.allowance?.currency&&void 0===e.balanceApproval.allowance.currency.decimals&&(e.balanceApproval.allowance.currency.decimals=0))})),e}(c)}async function c(){const{result:e}=await(0,a.hm)(o,{}),t=e.timeout;if("number"!=typeof t)throw new Error("Invalid timeout");return t}},53769:(e,t,r)=>{r.d(t,{Zg:()=>i,d6:()=>c,wh:()=>s});var n=r(16835),a=r(74146);const o="scanTxV2",s="scanTxTimeout";async function i({txData:e,networkName:t,from:r,shouldSimulate:s,dappURL:i,entryPointAddress:c}){const u=`${o}${s?"?simulate=true":""}`,{result:l}=await(0,a.TB)(u,{txData:e,networkName:t,from:r,clientName:"walletMobile",domain:i,entrypoint:c});return function(e){return e.decodedTx.operations?.forEach((function(e){e.operationType===n.S.BALANCE_TRANSFER&&(e.balanceTransfer.amount.currency&&void 0===e.balanceTransfer.amount.currency.decimals&&(e.balanceTransfer.amount.currency.decimals=0),e.balanceTransfer.currentBalance&&void 0===e.balanceTransfer.currentBalance.currency.decimals&&(e.balanceTransfer.currentBalance.currency.decimals=0)),e.operationType===n.S.BALANCE_APPROVAL&&(e.balanceApproval?.amount?.currency&&void 0===e.balanceApproval.amount.currency.decimals&&(e.balanceApproval.amount.currency.decimals=0),e.balanceApproval.currentBalance&&void 0===e.balanceApproval.currentBalance.currency.decimals&&(e.balanceApproval.currentBalance.currency.decimals=0),e.balanceApproval.allowance?.currency&&void 0===e.balanceApproval.allowance.currency.decimals&&(e.balanceApproval.allowance.currency.decimals=0))})),e}(l)}async function c(){const{result:e}=await(0,a.hm)(s,{}),t=e.timeout;if("number"!=typeof t)throw new Error("Invalid timeout");return t}},16835:(e,t,r)=>{var n,a;r.d(t,{I:()=>a,S:()=>n}),function(e){e.BALANCE_APPROVAL="BALANCE_APPROVAL",e.ITEM_APPROVAL_ALL="ITEM_APPROVAL_ALL",e.ITEM_APPROVAL="ITEM_APPROVAL",e.ITEM_TRANSFER="ITEM_TRANSFER",e.CONTRACT_OWNERSHIP_TRANSFER="CONTRACT_OWNERSHIP_TRANSFER",e.BALANCE_TRANSFER="BALANCE_TRANSFER",e.BALANCE_TRANSFER_RANGE="BALANCE_TRANSFER_RANGE"}(n||(n={})),function(e){e.TX_SCANNER="TX_SCANNER",e.MESSAGE_SCANNER="MESSAGE_SCANNER"}(a||(a={}))},59484:(e,t,r)=>{r.d(t,{$:()=>s});var n=r(81415),a=r(16835),o=r(28992);function s(e,t){return e.reduce((function(r,s){switch(s.operationType){case a.S.ITEM_APPROVAL:if(s.spenderAddress.toLowerCase()===n.Gy)break;if(s.fromAddress.toLowerCase()!==t?.toLowerCase())break;s.isApprovedAddressEoa&&e.some((e=>e.operationType===a.S.ITEM_TRANSFER&&e.toAddress===s.spenderAddress))?r.preAuthorizeOperations.push({...s,isApprovedAddressEoa:!1}):r.preAuthorizeOperations.push(s);break;case a.S.ITEM_APPROVAL_ALL:if(s.fromAddress.toLowerCase()!==t?.toLowerCase())break;r.preAuthorizeOperations.push(s);break;case a.S.BALANCE_APPROVAL:e.find((e=>e.operationType===a.S.BALANCE_TRANSFER&&e.fromAddress.toLowerCase()===t?.toLowerCase()&&e.contractAddress?.toLowerCase()===s.contractAddress?.toLowerCase()&&s.allowanceValue-e.amountValue===s.amountValue&&0n!==e.amountValue))||r.preAuthorizeOperations.push(s);break;case a.S.ITEM_TRANSFER:case a.S.BALANCE_TRANSFER:if(s.operationType===a.S.BALANCE_TRANSFER&&(s.fromAddress===t||s.toAddress===t)){const e=(0,o.MH)(s,r,t);if(e)return e}(0,o.P2)(s,t,(()=>r.assetChangeOperations.unshift(s)),(()=>r.assetChangeOperations.push(s)));break;case a.S.BALANCE_TRANSFER_RANGE:if(s.fromAddress===t||s.toAddress===t){const e=(0,o.Bn)(s,r,t);if(e)return e}(0,o.P2)(s,t,(()=>r.assetChangeOperations.unshift(s)),(()=>r.assetChangeOperations.push(s)))}return r}),{preAuthorizeOperations:[],assetChangeOperations:[],hasAggregatedTransfers:!1})}},52800:(e,t,r)=>{function n(e){return a(e)?"seaport":function(e){return!0===e.types?.PermitSingle?.some((e=>"details"===e.name&&"PermitDetails"===e.type||"sigDeadline"===e.name&&"uint256"===e.type))}(e)?"permit2":function(e){return!0===e.types?.Order?.some((e=>"makeAsset"===e.name&&"Asset"===e.type||"takeAsset"===e.name&&"Asset"===e.type))}(e)?"rarible":""}function a(e){return!0===e.types?.OrderComponents?.some((e=>"offer"===e.name&&"OfferItem[]"===e.type||"consideration"===e.name&&"Consideration[]"===e.type))}function o(e){return"number"==typeof e.domain?.chainId}function s(e){return void 0!==e.message&&(e.message.offer?.length??0)>0||(e.message?.consideration?.length??0)>0}function i(e,t){return t?BigInt(Math.min(Number(e.startAmountValue),Number(e.endAmountValue))):BigInt(Math.max(Number(e.startAmountValue),Number(e.endAmountValue)))}function c(e,t){return e.startQuantity&&e.endQuantity?t?BigInt(Math.min(Number(e.startQuantity),Number(e.endQuantity))):BigInt(Math.max(Number(e.startQuantity),Number(e.endQuantity))):0n}r.d(t,{DH:()=>i,Ee:()=>c,HW:()=>n,O0:()=>s,V9:()=>a,Vy:()=>o})},28889:(e,t,r)=>{function n(e){const t=e.preAuthorizeOperations.some((e=>e.isSpenderAddressEoa||e.isOperatorAddressEoa||e.isApprovedAddressEoa)),r=e.preAuthorizeOperations.length,n=e.assetChangeOperations.length,a=r+n;if(r>0&&n>0)return{operationType:"MIXED_OPERATIONS",numberOfOperations:a,isPreAuthorizeOperationToAnEOA:t};if(r>1)return{operationType:"PRE_AUTHORIZE",numberOfOperations:a,isPreAuthorizeOperationToAnEOA:t};if(n>1)return{operationType:"ASSET_CHANGE",numberOfOperations:a};if(0===r&&0===n)return{operationType:"NO_VALID_OPERATIONS",numberOfOperations:0};return{operationType:(r?e.preAuthorizeOperations[0]:e.assetChangeOperations[0]).operationType,numberOfOperations:a}}r.d(t,{y:()=>n})},28992:(e,t,r)=>{r.d(t,{Bn:()=>l,MH:()=>u,P2:()=>c,ou:()=>i});var n=r(44002),a=r(52689),o=r(16835);function s(e,t){let r=0;if(t?.length){const e=t.find((e=>{try{r=Number(e.size.split("x")[0])}catch(e){return!1}return r>40&&r<250}));return e?e.url:t[0].url}(0,n.UD)(e)}function i(e,t){return e.reduce(((e,r)=>{try{switch(r.operationType){case o.S.BALANCE_APPROVAL:e.push(function(e){const{operationType:t,balanceApproval:{amount:{currency:{decimals:r,symbol:n,images:o,contractAddress:i},value:c},allowance:{value:u},currentBalance:l,spenderAddress:d,fromAddress:p,isSpenderAddressEoa:f}}=e,m={operationType:t,contractAddress:i};return{amountValue:BigInt(c),decimals:BigInt(r),spenderAddress:d,operationType:t,currencyCode:new a.j(n),currentBalanceValue:l?BigInt(l.value):void 0,imageUrl:s(m,o),fromAddress:p,isSpenderAddressEoa:Boolean(f),contractAddress:i,allowanceValue:BigInt(u)}}(r));break;case o.S.ITEM_TRANSFER:e.push(function({operationType:e,itemTransfer:{toAddress:t,collection:r,item:n,fromAddress:a,quantity:o,quantityRange:s,contractAddress:i}}){return{collectionName:r?.name,NFTName:n?.name||n?.tokenId&&`#${n.tokenId}`||"",tokenId:n?.tokenId,imageUrl:n?.imageUrl||r?.imageUrl,operationType:e,spenderAddress:t,fromAddress:a,toAddress:t,startQuantity:s?.startQuantity??o,endQuantity:s?.endQuantity??o,contractAddress:i}}(r));break;case o.S.ITEM_APPROVAL:e.push(function({operationType:e,itemApproval:{approvedAddress:t,fromAddress:r,item:n,collection:a,isApprovedAddressEoa:o}}){return{collectionName:a?.name,NFTName:n?.name||n?.tokenId,imageUrl:n?.imageUrl,operationType:e,spenderAddress:t,fromAddress:r,isApprovedAddressEoa:Boolean(o)}}(r));break;case o.S.ITEM_APPROVAL_ALL:e.push(function({itemApprovalAll:{operatorAddress:e,collection:t,ownerAddress:r,isRevoke:n,isOperatorAddressEoa:a},operationType:o}){return{operationType:o,collectionName:t?.name,spenderAddress:e,imageUrl:t?.imageUrl,fromAddress:r,isRevoke:n,isOperatorAddressEoa:Boolean(a)}}(r));break;case o.S.BALANCE_TRANSFER:e.push(function(e){if(e.balanceTransfer.amountRange){const{operationType:t,balanceTransfer:{amountRange:{startAmount:{currency:{decimals:r,symbol:n,contractAddress:i,images:c},value:u},endAmount:{value:l}},currentBalance:d,toAddress:p,fromAddress:f},validity:m}=e,A={operationType:t,contractAddress:i};return{operationType:o.S.BALANCE_TRANSFER_RANGE,startAmountValue:BigInt(u),endAmountValue:BigInt(l),currencyCode:new a.j(n),decimals:BigInt(r),spenderAddress:p,contractAddress:i,currentBalanceValue:d?BigInt(d.value):void 0,imageUrl:s(A,c),fromAddress:f,toAddress:p,validity:m}}const{operationType:t,balanceTransfer:{amount:{currency:{decimals:r,symbol:n,images:i,contractAddress:c},value:u},currentBalance:l,toAddress:d,fromAddress:p}}=e,f={operationType:t,contractAddress:c};return{amountValue:BigInt(u),decimals:BigInt(r),spenderAddress:d,operationType:t,contractAddress:c,currencyCode:new a.j(n),currentBalanceValue:l?BigInt(l.value):void 0,imageUrl:s(f,i),fromAddress:p,toAddress:d}}(r));break;default:{const e={request:t.request,dappURL:t.dappURL,blockchain:t.blockchain,isTxPreviewEnabled:t.isTxPreviewEnabled,isMessageScannerEnabled:t.isMessageScannerEnabled,operationType:r?.operationType,isInvokedFromNativeSend:t.isInvokedFromNativeSend};(0,n.R5)(e);break}}return e}catch(t){const a=r.operationType;return(0,n.mM)(a,t),e}}),[])}function c(e,t,r,n){e.fromAddress.toLowerCase()===t?.toLowerCase()?r():e.toAddress.toLowerCase()===t?.toLowerCase()&&n()}function u(e,t,r){const n=t.assetChangeOperations.find((t=>t.operationType===o.S.BALANCE_TRANSFER&&t.currencyCode.rawValue===e.currencyCode.rawValue&&t.contractAddress===e.contractAddress));if(!n)return;t.hasAggregatedTransfers=!0;const a=n.toAddress.toLowerCase()===r?.toLowerCase();return c(e,r,(()=>{if(a){const t=n.amountValue-e.amountValue;if(BigInt(t)>0n)n.amountValue=t;else{const e=n.fromAddress;n.fromAddress=n.toAddress,n.toAddress=e,n.amountValue=-t}}else n.amountValue+=e.amountValue}),(()=>{if(a)n.amountValue+=e.amountValue;else{const t=n.amountValue-e.amountValue;if(BigInt(t)>0n)n.amountValue=t;else{const e=n.fromAddress;n.fromAddress=n.toAddress,n.toAddress=e,n.amountValue=-t}}})),t}function l(e,t,r){const n=t.assetChangeOperations.find((t=>t.operationType===o.S.BALANCE_TRANSFER_RANGE&&t.currencyCode.rawValue===e.currencyCode.rawValue&&t.contractAddress===e.contractAddress));if(!n)return;t.hasAggregatedTransfers=!0;const a=n.toAddress.toLowerCase()===r.toLowerCase();return c(e,r,(()=>{if(a){const t=n.startAmountValue-e.startAmountValue,r=n.endAmountValue-e.endAmountValue;if(BigInt(t)>0n)n.startAmountValue=t;else{const e=n.fromAddress;n.fromAddress=n.toAddress,n.toAddress=e,n.startAmountValue=-t}if(BigInt(r)>0n)n.endAmountValue=r;else{const e=n.fromAddress;n.fromAddress=n.toAddress,n.toAddress=e,n.endAmountValue=-r}}else n.startAmountValue+=e.startAmountValue,n.endAmountValue+=e.endAmountValue}),(()=>{if(a)n.startAmountValue+=e.startAmountValue,n.endAmountValue+=e.endAmountValue;else{const t=n.startAmountValue-e.startAmountValue,r=n.endAmountValue-e.endAmountValue;if(BigInt(t)>0n)n.startAmountValue=t;else{const e=n.fromAddress;n.fromAddress=n.toAddress,n.toAddress=e,n.startAmountValue=-t}if(BigInt(r)>0n)n.endAmountValue=t;else{const e=n.fromAddress;n.fromAddress=n.toAddress,n.toAddress=e,n.endAmountValue=-t}}})),t}},24745:(e,t,r)=>{r.d(t,{l:()=>n.l});var n=r(44080)},31013:(e,t,r)=>{r.d(t,{i:()=>c});var n=r(14041),a=r(32183),o=r(8867),s=r(64198);const i=(0,a.YK)({successMessage:{id:"t/EkeX",defaultMessage:"Copied to clipboard"},failureMessage:{id:"EO/xSA",defaultMessage:"Could not be copied"}});function c({bottomOffset:e}={}){const t=(0,s.d)(),{formatMessage:r}=(0,o.A)();return(0,n.useCallback)((async(n,a=!0,o=r(i.successMessage),s=r(i.failureMessage))=>{a&&t.clearQueue();let c=o;try{await navigator.clipboard.writeText(n)}catch{c=s}a&&t.show(c,{bottomOffset:e})}),[r,t,e])}}}]);
//# sourceMappingURL=2896.js.map