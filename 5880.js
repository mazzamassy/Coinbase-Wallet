"use strict";(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[5880],{5880:(e,t,a)=>{a.r(t),a.d(t,{Watchlist:()=>L});var r,n=a(14041),o=a(32183),s=a(8867),i=a(86090),c=a(82733),l=a(97612),d=a(32451),u=a(10058),f=a(4681),m=a(4118),p=a(55799),h=a(15654),b=a(44659),g=a(86700),y=a(50130),v=a(8457),x=a(73506),w=a(581),j=a(31085);e=a.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var k,C,G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},M=(0,o.YK)({title:{id:"PErR1y",defaultMessage:[{type:0,value:"Watchlist"}]}}),L=(0,n.memo)(G((function(){var e=(0,s.A)().formatMessage,t=(0,i.W6)(),a=t.goBack,r=t.push,o=(0,l.R)(),k=o.watchlist,C=o.isLoading;(0,g.c)(d.fO.watchlist,d.j$.navigate_to_watchlist,{type:"end"});var G=(0,m.z)(d.fO.watchlist,d.j$.navigate_to_watchlist_discovery,{logMetric:!0}).start,L=(0,c.D3)({componentName:"back"}),H=(0,n.useCallback)((function(){L(),a()}),[L,a]),W=(0,n.useCallback)((function(){L({componentName:"explore"}),G(),r("/explore/watchlistDiscovery")}),[L,r,G]),P=(0,n.useMemo)((function(){return C?(0,j.jsx)(w.g,{title:e(M.title),cta:(0,j.jsx)(p.a,{pin:"bottom",children:(0,j.jsx)(y.j,{})})}):k&&0!==(null==k?void 0:k.length)?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(h.T,{overflow:"scroll",flexGrow:1,flexBasis:1,position:"relative",spacingBottom:10,children:[(0,j.jsx)(p.a,{spacingHorizontal:3,spacingVertical:2,children:(0,j.jsx)(b.f,{as:"h1",children:e(M.title)})}),k.map((function(e,t){return(0,j.jsx)(v._,{watchlistItem:e,index:t})}))]}),(0,j.jsx)(p.a,{pin:"bottom",children:(0,j.jsx)(y.j,{onPress:W})})]}):(0,j.jsxs)(p.a,{alignSelf:"center",flexDirection:"column",flexGrow:1,flexBasis:1,children:[(0,j.jsx)(x.T,{}),(0,j.jsx)(p.a,{pin:"bottom",children:(0,j.jsx)(y.j,{})})]})}),[e,W,C,k]);return(0,j.jsx)(f.ff,{height:"100%",header:(0,j.jsx)(u.jq,{variant:"secondary",title:e(M.title),handleBack:H,hasPageTitle:!0,isSticky:!0}),children:P})}),"useIntl{{ formatMessage }}\nuseHistory{{ goBack, push }}\nuseGetWatchlist{{ watchlist, isLoading }}\nusePerfMarkOnMount{}\nuseExtensionPerfMark{{ start: startNavigateToWatchlistDiscoveryPerfMark }}\nuseWatchlistButtonEvent{clickEvent}\nuseCallback{handleGoBack}\nuseCallback{handleAddMoreAssetsPress}\nuseMemo{content}",(function(){return[s.A,i.W6,l.R,g.c,m.z,c.D3]})));(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(k.register(M,"messages","/workspaces/apps/extension/src/screens/Watchlist/Watchlist.tsx"),k.register(L,"Watchlist","/workspaces/apps/extension/src/screens/Watchlist/Watchlist.tsx")),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&C(e)},50130:(e,t,a)=>{a.d(t,{j:()=>p});var r,n=a(14041),o=a(32183),s=a(8867),i=a(85581),c=a(55799),l=a(31085);e=a.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var d,u,f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},m=(0,o.YK)({addMoreAssetsButton:{id:"5PFqBv",defaultMessage:[{type:0,value:"Watch more assets"}]}}),p=(0,n.memo)(f((function(e){var t=e.onPress,a=(0,s.A)().formatMessage;return(0,l.jsx)(c.a,{flexDirection:"row",flexGrow:1,justifyContent:"center",spacingHorizontal:3,spacingVertical:2,children:(0,l.jsx)(i.$,{variant:"secondary",endIcon:"forwardArrow",onPress:t,block:!0,children:a(m.addMoreAssetsButton)})})}),"useIntl{{ formatMessage }}",(function(){return[s.A]})));(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(m,"messages","/workspaces/apps/extension/src/screens/Watchlist/components/WatchlistAddAssetButton.tsx"),d.register(p,"WatchlistAddAssetButton","/workspaces/apps/extension/src/screens/Watchlist/components/WatchlistAddAssetButton.tsx")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},8457:(e,t,a)=>{a.d(t,{_:()=>W});var r,n=a(14041),o=a(86090),s=a(82733),i=a(4842),c=a(87432),l=a(76583),d=a(80587),u=a(70918),f=a(27224),m=a(78392),p=a(92271),h=a(52365),b=a(39262),g=a(94330),y=a(97541),v=a(32010),x=a(31085);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){C(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function C(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=w(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==w(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}e=a.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var G,M,L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},H=(0,n.memo)(L((function(e){var t=e.watchlistItem,a=e.index,r=(0,o.W6)().push,p=(0,d.s)({address:t.contractAddress,blockchain:t.blockchain,networkId:t.networkId,chainId:t.chainId,decimals:t.decimals,name:t.name,symbol:t.symbol,uuid:t.uuid}),w=(0,n.useMemo)((function(){return{chainName:t.blockchain,componentPlacement:s.gw.L2,entityName:t.name,entityType:"OBJECT_TYPE_NFT"===t.type?s.je.NFT:s.je.ASSET,rankIndex:a}}),[a,t]),j=(0,s.KR)(w),k=(0,s.jm)(w);(0,c.y)((function(){j()}));var C=(0,u.h)(),G=(0,l.q)(C)(p.id),M=(0,i.m8)(t.symbol,t.uuid,!0),L=M.formattedPercent,H=M.percentColor,W=M.percentArrow,P=(0,n.useMemo)((function(){return{currencyCode:p.symbol,iconUrl:p.imageUrl}}),[p.imageUrl,p.symbol]),A=(0,n.useCallback)((function(){var e;k(),r("/portfolio/crypto/".concat(encodeURIComponent(null!==(e=null==G?void 0:G.id)&&void 0!==e?e:p.id),"/").concat(v.tR.Explore))}),[null==G?void 0:G.id,k,r,p.id]),I=(0,f.X)(p);return(0,x.jsx)(h.l,{title:(0,x.jsx)(b.w,{as:"h1",noWrap:!0,overflow:"truncate",children:p.name}),description:(0,x.jsx)(g.C,{as:"p",color:"foregroundMuted",children:p.symbol}),detail:(0,x.jsx)(g.C,{as:"p",align:"end",children:I}),subdetail:(0,x.jsx)(y.K,{as:"p",color:H,align:"end",children:"".concat(W," ").concat(L)}),borderRadius:"roundedLarge",media:(0,x.jsx)(m.E,{asset:P,width:32,height:32}),onPress:A,testID:"watchlist-cell-".concat(p.symbol)})}),"useHistory{{ push }}\nuseWatchlistItem{watchedAsset}\nuseMemo{eventData}\nuseViewWatchlistCardEvent{viewCardEvent}\nuseClickWatchlistCardEvent{clickCardEvent}\nuseOnMount{}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseGetExploreAssetWallet{getExploreAssetWallet}\nuseGetPriceDetail{{ formattedPercent, percentColor, percentArrow }}\nuseMemo{assetIcon}\nuseCallback{handleOnPress}\nuseWatchedAssetPrice{formattedAmount}",(function(){return[o.W6,d.s,s.KR,s.jm,c.y,u.h,l.q,i.m8,f.X]}))),W=(0,n.memo)((function(e){return(0,x.jsx)(p.t,{children:(0,x.jsx)(n.Suspense,{fallback:null,children:(0,x.jsx)(H,k({},e))})})}));(G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(G.register(H,"WatchlistCellContent","/workspaces/apps/extension/src/screens/Watchlist/components/WatchlistCell.tsx"),G.register(W,"WatchlistCellWithBoundary","/workspaces/apps/extension/src/screens/Watchlist/components/WatchlistCell.tsx")),(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&M(e)},73506:(e,t,a)=>{a.d(t,{T:()=>g});var r,n=a(14041),o=a(32183),s=a(8867),i=a(59706),c=a(34107),l=a(15654),d=a(39262),u=a(97541),f=a(31085);e=a.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var m,p,h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},b=(0,o.YK)({detail:{id:"pCYCWi",defaultMessage:[{type:0,value:"Start building your watchlist"}]},subdetail:{id:"CcdFox",defaultMessage:[{type:0,value:"Stay up to date on the assets you care about"}]}}),g=(0,n.memo)(h((function(){var e=(0,s.A)().formatMessage;return(0,f.jsxs)(l.T,{flexGrow:1,flexBasis:1,justifyContent:"center",alignContent:"center",alignItems:"center",alignSelf:"center",spacingHorizontal:6,children:[(0,f.jsx)(i.t,{illustration:"TransferCoinsMiami",children:(0,f.jsx)(c.g,{name:"transferCoins"})}),(0,f.jsx)(d.w,{as:"h1",align:"center",spacingTop:4,children:e(b.detail)}),(0,f.jsx)(u.K,{as:"p",align:"center",color:"foregroundMuted",children:e(b.subdetail)})]})}),"useIntl{{ formatMessage }}",(function(){return[s.A]})));(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(b,"messages","/workspaces/apps/extension/src/screens/Watchlist/components/WatchlistEmpty.tsx"),m.register(g,"WatchlistEmpty","/workspaces/apps/extension/src/screens/Watchlist/components/WatchlistEmpty.tsx")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},581:(e,t,a)=>{a.d(t,{g:()=>m});var r,n=a(14041),o=a(60803),s=a(55799),i=a(15654),c=a(44659),l=a(97541),d=a(31085);e=a.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var u,f,m=(0,n.memo)((function(e){var t=e.cta,a=void 0===t?void 0:t,r=e.description,u=void 0===r?void 0:r,f=e.isDiscovery,m=void 0!==f&&f,p=e.title;return(0,d.jsxs)(s.a,{flexBasis:1,flexGrow:1,flexDirection:"column",testID:"watchlist-".concat(m?"discovery-":"","loading"),children:[(0,d.jsxs)(i.T,{spacingHorizontal:3,spacingVertical:m?0:2,spacingBottom:m?3:0,gap:1,children:[(0,d.jsx)(c.f,{as:"h1",children:p}),!!u&&(0,d.jsx)(l.K,{as:"p",color:"foregroundMuted",children:u})]}),Array(4).fill((0,d.jsx)(o.x,{title:!0,description:!0,detail:!0,subdetail:!0,media:"asset",compact:!0})).map((function(e,t){return(0,d.jsx)(n.Fragment,{children:e},"watchlist-".concat(m?"discovery-":"","fallback-").concat(t))})),a]})}));(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&u.register(m,"WatchlistLoading","/workspaces/apps/extension/src/screens/Watchlist/components/WatchlistLoading.tsx"),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)},4842:(e,t,a)=>{a.d(t,{m8:()=>L});var r=a(14041),n=a(8867),o=a(95734),s=a(52344),i=a(11554),c=a(42626),l=a(54996);const d=(0,r.createContext)(void 0);var u=a(67651),f=a(60120),m=a(21154),p=a(94922);const h=(e,t)=>Object.keys(e).reduce(((a,r)=>{const n=e[r];return n&&(a[r]=(0,p.x)(n,t)),a}),{});function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},b.apply(null,arguments)}const g=e=>"light"in e,y=e=>"dark"in e;function v(e,t){return t?"light"===e?t.light.palette:t.dark.palette:function(e){const t=u.Bi,a=u.HF;return"light"===e?t:a}(e)}const x=e=>{let{name:t,palette:a,parentThemeConfig:r,spectrum:n}=e;const o=v(n,r),s=(e=>!g(e)&&!y(e))(a)?a:o,i=g(a)?a.light:s,c=y(a)?a.dark:s,l=b({},o,"light"===n?i:c);return{palette:l,rgbaStrings:h(l,n),interactableTokens:(0,m.b)({paletteConfig:l,spectrum:n}),name:t+"-"+n}},w=e=>{let{name:t,parentThemeConfig:a}=e;return""+(a?a.name+"-":"")+t},j=(0,f.B)((function(e){let{palette:t,parentThemeConfig:a,name:r}=e;const n=w({name:r,parentThemeConfig:a});return{name:n,light:x({name:n,palette:t,parentThemeConfig:a,spectrum:"light"}),dark:x({name:n,palette:t,parentThemeConfig:a,spectrum:"dark"})}}),w);const k=()=>{const e=(0,r.useContext)(d),t=j({palette:u.ME,name:"default"});return(0,r.useMemo)((()=>e||{config:t,activeConfig:t.light}),[e,t])},C=()=>k().activeConfig.rgbaStrings,G="\u2197",M="\u2198";function L(e,t,a,d,u,f){const{formatNumber:m}=(0,n.A)(),p=(0,o.M)(),h=C(),{asset:b,isFetched:g}=(0,s.Q)({assetSymbol:e,uuid:t,network:d,blockchain:u,contractAddress:f}),y=(0,i.S)({network:d,blockchain:u}),{data:v}=(0,l.o2)({assetId:b?.id,address:f,networkId:y,onlyPercentChangeResolutions:a?[c.ck]:void 0,enabled:g}),x=v?.prices.latestPrice,w=x?.amount,j=x?.percentChange.day,k=w?m(Math.abs(Number(w?.amount)),{style:"currency",currency:w?.currency,minimumFractionDigits:w?.scale}):"",L=!!j&&j>0,H=void 0!==j&&0===j,W=void 0!==j?p(Math.abs(j),2):"",P=(0,r.useMemo)((()=>H||!j?"":L?G:M),[H,j,L]),A=(0,r.useMemo)((()=>H||!j?"foregroundMuted":L?"positive":"negative"),[H,j,L]);return{formattedPercent:W,formattedAmount:k,color:b?.color??h.primary,prices:a?void 0:v,percentArrow:P,percentColor:A}}},80587:(e,t,a)=>{a.d(t,{s:()=>l});var r=a(14041),n=a(27301),o=a(52344),s=a(37341),i=a(77646),c=a(54996);function l(e){const{data:t}=(0,c.o2)({assetId:e.uuid}),a=e.networkId?(0,i.e)(e.networkId):void 0,l=new n.J(e.blockchain),{asset:d}=(0,o.Q)({network:a,blockchain:l,contractAddress:e.address,assetSymbol:e.symbol,uuid:e.uuid,suspense:!0});if(!d)throw new Error(`useWatchlistItem: unable to get Asset information for ${e.symbol}`);const u=(0,s.e)({name:d.name,currencyCode:d.symbol,address:e.address,decimals:e.decimals,imageURL:d.image_url,chainId:e.chainId,networkId:e.networkId,blockchain:e.blockchain,uuid:d.id,percentChangeDay:t?.prices.latestPrice.percentChange.day??0});return(0,r.useMemo)((()=>({symbol:d.symbol,name:d.name,imageUrl:d.image_url,priceChange:t?.prices.latestPrice.percentChange.day,latestPrice:t?.prices.latestPrice,uuid:d.id,id:u.id,network:u.network})),[d.id,d.image_url,d.name,d.symbol,u.id,u.network,t?.prices.latestPrice])}},97612:(e,t,a)=>{a.d(t,{R:()=>i});var r=a(14041),n=a(92743),o=a(98053),s=a(3887);function i(){const e=(0,n.t)().get("ETH")?.primaryAddress??"",{data:t,refetch:a,isLoading:i,error:c}=(0,o.I)([s.SS,e],(async()=>(0,s.qN)({walletAddress:e})),{notifyOnChangeProps:["data","error"],cacheTime:0}),l=(0,r.useCallback)((function(){e&&a()}),[e,a]),d=(0,r.useMemo)((()=>(t?.watchlist??[]).filter((e=>"OBJECT_TYPE_ASSET"===e.type))),[t?.watchlist]);return(0,r.useMemo)((()=>({watchlist:d,error:c,refetchWatchlist:l,isLoading:i})),[c,d,i,l])}},27224:(e,t,a)=>{a.d(t,{X:()=>n});var r=a(8867);function n(e){const{formatNumber:t}=(0,r.A)();return e.latestPrice?t(Math.abs(Number(e.latestPrice.amount.amount)),{style:"currency",currency:e.latestPrice.amount.currency,minimumFractionDigits:e.latestPrice.amount.scale}):""}}}]);
//# sourceMappingURL=5880.js.map