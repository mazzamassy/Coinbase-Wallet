/*! For license information please see 4735.js.LICENSE.txt */
(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[4735],{87755:(e,t,n)=>{"use strict";n.d(t,{D:()=>j});var a,r=n(14041),o=n(32183),s=n(8867),i=n(33874),l=n(86768),c=n(50259),u=n(26958),d=n(24905),p=n(59706),f=n(52338),m=n(85581),g=n(34107),h=n(15654),b=n(55799),y=n(60149),v=n(97541),w=n(94330),T=n(98055),x=n(72162),C=n(95974),k=n(70660),L=n(81475),S=n(31085);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var A,M,I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},R="hw-trouble-connecting",E=(0,o.YK)({tryAgainCTA:{id:"FazwRl",defaultMessage:[{type:0,value:"Try again"}]},backButtonAriaLabel:{id:"p72mKW",defaultMessage:[{type:0,value:"Go back"}]},errorMessage:{id:"29gmtd",defaultMessage:[{type:0,value:"Error: "},{type:1,value:"error"}]},havingTrouble:{id:"sPl3k8",defaultMessage:[{type:0,value:"Having trouble?"}]},gotIt:{id:"NYTGIb",defaultMessage:[{type:0,value:"Got it"}]}});function j(e){var t=e.statusCode,n=e.errorMessage,a=e.errorId,o=e.handleBack,A=(0,s.A)().formatMessage,M=(0,C.A)().goBack,I=(0,i.f)();(0,L.R)("errorMessage:",n,"statusCode:",t,"errorId:",a);var j=(0,l.bV)(t,a),D=(0,r.useCallback)((function(){o?o():M()}),[M,o]),P=(0,r.useCallback)((function(){(0,k.p4)(c.CO.LEDGER)}),[]);return(0,S.jsxs)(h.T,{height:d.pA,justifyContent:"space-between",testID:"".concat(R,"-container"),children:[(0,S.jsxs)(h.T,{children:[(0,S.jsx)(b.a,{offsetStart:1,children:(0,S.jsx)(f.K,{testID:"".concat(R,"-back-btn"),name:"backArrow",onPress:D,transparent:!0,accessibilityLabel:A(E.backButtonAriaLabel)})}),(0,S.jsx)(h.T,{alignItems:"center",justifyContent:"flex-start",spacingTop:3,children:t===l.UB?(0,S.jsx)(g.g,{name:"ledgerSignatureRejected",scaleMultiplier:1}):(0,S.jsx)(p.t,{illustration:"LedgerErrorMiami",children:(0,S.jsx)(g.g,{name:"ledgerFailed",scaleMultiplier:1})})})]}),(0,S.jsxs)(h.T,{gap:2,children:[(0,S.jsx)(y.f,{as:"p",children:A(j[0])}),(0,S.jsx)(v.K,{as:"p",color:I?"foreground":"foregroundMuted",children:A(j[1])}),void 0!==t&&!(0,l.ux)(t)&&(0,S.jsx)(w.C,{as:"p",children:A(E.errorMessage,{error:t})}),n&&(null==n?void 0:n.length)>0&&(0,S.jsx)(T.v,{as:"p",children:A(E.errorMessage,{error:n})})]}),(0,S.jsxs)(h.T,{alignItems:"center",gap:2,children:[(0,S.jsx)(m.$,{testID:"".concat(R,"-try-again-btn"),block:!0,onPress:D,children:t===l._c?A(E.gotIt):A(E.tryAgainCTA)}),(0,S.jsx)(u.V,{unset:!0,children:(0,S.jsx)(S.Fragment,{children:t!==l._c&&(0,S.jsx)(x.N_,{testID:"".concat(R,"-having-trouble"),variant:"body",color:"primary",onPress:P,children:A(E.havingTrouble)})})})]})]})}I(j,"useIntl{{ formatMessage }}\nuseOnboardingStepper{{ goBack }}\nuseMiamiIllustrationsEnabled{isMiamiIllustrationsEnabled}\nuseCallback{handleOnBackOrTryAgainPress}\nuseCallback{handleHavingTroublePress}",(function(){return[s.A,C.A,i.f]})),(A="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(A.register(R,"testIDPrefix","/workspaces/apps/extension/src/components/HardwareWallet/HWTroubleConnecting/HWTroubleConnecting.tsx"),A.register(E,"messages","/workspaces/apps/extension/src/components/HardwareWallet/HWTroubleConnecting/HWTroubleConnecting.tsx"),A.register(j,"HWTroubleConnecting","/workspaces/apps/extension/src/components/HardwareWallet/HWTroubleConnecting/HWTroubleConnecting.tsx")),(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&M(e)},48e3:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DappTransactionRequest:()=>he});var a=n(14041),r=n(2719),o=n(84141),s=n(52135),i=n(58910),l=n(71847),c=n(84213),u=n(46122),d=n(51676),p=n(27301),f=n(52689),m=n(99172);var g=n(62396),h=n(76116),b=n(62251),y=n(44737),v=n(23804),w=n(22715),T=n(77981),x=n(22767),C=n(62207);var k=n(45085),L=n(64593);async function S({wallet:e,calls:t,paymasterService:n,dappOrigin:a}){return{...await(0,L.q)(e.accountId),isPaymasterApplicable:!0,calls:t,callData:(0,k.b)({calls:t}),paymasterService:n,dappOrigin:a}}async function A({request:e,txSource:t,wallets:n}){const a=(0,w.w$)(e),r=e.params.chainId,o=function(e,t,n){const a=d.ay.fromChainId(t);if(!a)throw new Error("Illegal chain id passed in $chainId");const r=(0,u.zL)(a);return n.find((t=>p.J.isEqual(t.blockchain,u.vj.blockchain)&&f.j.isEqual(t.currencyCode,u.vj.currencyCodeForNetwork(r))&&m.lg.isEqual(t.network,r)&&t.isBaseAsset&&t.primaryAddress.toLowerCase()===e.toLowerCase()))}(a?e.params.from:e.params.fromAddress,BigInt(r),n);if(!o)throw new Error("No wallet found");const s=(0,u.uz)(o.network.rawValue),i=await(0,x.tj)(o.primaryAddress,s.rpcUrl,!0),l=i!==o.balance,k=l?new v.u({...o,balance:i}):o;l&&((0,c.UU)({blockchain:"ETH",chainName:s.displayName,chainId:s.chainId.toString()}),await(0,y.Yk)([k]));const L=new Map([[u.kV,t],[u.E_,(0,T.A)()],[b.Lm,!1]]);let A;if(g.g.isSCWAccount(o.accountId)){const{userOpConfig:t,recipientAddress:n}=await async function(e,t){if((0,w.w$)(e)){return{userOpConfig:await S({wallet:t,calls:e.params.calls,paymasterService:{paymasterURL:e.params.capabilities?.paymasterService?.url,dappContext:e.params.capabilities?.paymasterService?.context},dappOrigin:e.dappOrigin}),recipientAddress:e.params.calls[0]?.target}}const{data:n,toAddress:a,weiValue:r}=e.params,o=await S({wallet:t,calls:[{data:n??"0x",target:a,value:BigInt(r??0n)}]});return{userOpConfig:o,recipientAddress:a}}(e,k);A=await(0,h.Z)({wallet:k,recipientAddress:n,txOrUserOpConfig:t,transactionAmount:{kind:"Amount",value:0n},metadata:L})}else{const t=e.params,n=function({params:e}){const t=m.lg.fromChainId({chainId:BigInt(e.chainId)}),n=(0,u.US)(t),a={dataBuffer:e.data?(0,C.im)(e.data):void 0,nonce:null!==e.nonce?BigInt(e.nonce):void 0},r={...a,txType:"1559",selectedGasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,selectedBaseFeePerGas:void 0,selectedMaxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,selectedMaxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0},o={...a,txType:"Legacy",selectedGasPrice:e.gasPriceInWei?BigInt(e.gasPriceInWei):void 0,selectedGasLimit:e.gasLimit?BigInt(e.gasLimit):void 0};return n?r:o}({params:t});A=await(0,h.Z)({wallet:k,recipientAddress:t.toAddress,transactionAmount:{kind:"Amount",value:BigInt(t.weiValue)},metadata:L,txOrUserOpConfig:n})}return"Failure"===A.kind?{wallet:k,feeWallet:k,unsignedTx:A.transaction,error:A.err}:{wallet:k,feeWallet:k,unsignedTx:A.transaction}}var M=n(3834),I=n(71776),R=n(54065);var E=n(58524),j=n(69434),D=n(44308),P=n(2197),F=n(53670);async function O(e){const t=e.request.method,n=e.request.params.transactions,a=t===j.l.sendTransaction?e.request.params.options:void 0,r=e.isSolanaPriorityFeeEnabled??!1,o=t===j.l.signAllTransactions,s=n.map((async e=>(0,P.f)(e))),i=(await Promise.all(s)).flatMap((e=>e)),l=await async function(e,t){const n=e.map((e=>e.toLowerCase()));return t.find((e=>n?.includes(e.primaryAddress.toLowerCase())))}(i,e.wallets);if(!l)throw I.t.unableToFindWallet;const d=(g=l.primaryAddress,h=l.network,e.wallets.find((e=>p.J.isEqual(e.blockchain,R.Yw.blockchain)&&f.j.isEqual(e.currencyCode,R.Yw.currencyCodeForNetwork(h))&&m.lg.isEqual(e.network,h)&&e.isBaseAsset&&e.primaryAddress.toLowerCase()===g.toLowerCase())));var g,h;if(!d)throw I.t.unableToFindWallet;const w=await(0,D.r1)({address:d.primaryAddress,rpcUrl:E.hR}),x=w!==d.balance,C=x?new v.u({...d,balance:w}):d;x&&((0,c.UU)({blockchain:"SOL"}),await(0,y.Yk)([C]));try{const e=await Promise.all(n.map((async function(e){if(e instanceof M.Transaction&&!e.feePayer)throw I.t.noFeePayerFound;const t=new Map([[u.kV,"extensionStandalone"],[u.E_,(0,T.A)()],[b.Lm,!1]]),n=await(0,F.Z)({wallet:l,recipientAddress:"",transactionAmount:{kind:"Amount",value:0n},metadata:t,nativeDappTransaction:e,shouldSavePendingTransaction:!1,submissionParams:a,isSolanaPriorityFeeEnabled:r});if("Success"!==n.kind)throw I.t.unableToGenerateUnsignedTransaction;return n.transaction})));return{wallet:l,feeWallet:C,unsignedTx:e.length?e[0]:void 0,unsignedTransactions:o?e:void 0,error:void 0}}catch(e){return{wallet:l,feeWallet:C,unsignedTx:void 0,unsignedTransactions:void 0,error:I.t.unableToGenerateUnsignedTransaction}}}var G=n(70960),U=n(69148),H=n(48097),q=n(52493),N=n(56979),W=n(79071),B=n.n(W),_=n(92271),V=n(55799),z=n(69647),K=n(74994),Z=n(19529),$=n(29740),Y=n(96295),J=n(67662);var X,Q=n(23426),ee=n(79669),te=n(92229),ne=n(90485),ae=n(6507),re=n(13783),oe=n(7888),se=n(9684),ie=n(65103),le=n(31085);function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,s,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=o.call(n)).done)&&(i.push(a.value),i.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ue(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}e=n.hmd(e),(X="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&X(e);var de,pe,fe="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},me=596,ge={wallet:void 0,feeWallet:void 0,unsignedTx:void 0,unsignedTransactions:void 0};function he(e){var t,n,c,u=e.options,d=e.dappProviderType,p=ce((0,a.useState)(ge),2),f=p[0],m=p[1],g=ce((0,a.useState)(!1),2),h=g[0],b=g[1],y=N.b[d],v=(0,q.H)(),T=(0,U.f)(),x=(0,l.x)("solana_transaction_priority_fee"),C=y===i.KN,k=(0,Q.U)(),L=(0,ee.X)(),S=(0,te.X)();(0,a.useEffect)((function(){(async function({request:e,txSource:t,wallets:n,isSolanaPriorityFeeEnabled:a}){const r={wallet:void 0,unsignedTx:void 0,unsignedTransactions:void 0};if((0,w.Hs)(e)){const t=await O({request:e,wallets:n,isSolanaPriorityFeeEnabled:a});return{...r,...t}}const o=await A({request:e,wallets:n,txSource:t??"dappBrowser"});return{...r,...o}})({request:u.request,txSource:"extensionStandalone",wallets:v,isSolanaPriorityFeeEnabled:x}).then((function(e){(0,K.kE)({request:u.kind,dappURL:u.dappURL,blockchain:y}),m(e)})).catch((function(e){(0,K.Ff)({request:u.kind,dappURL:u.dappURL,blockchain:y,eventData:{error:e.message}})})).finally((function(){b(!0)}))}),[d,m,u,y,v,x]);var M=f.wallet,I=f.feeWallet,R=f.unsignedTx,E=f.unsignedTransactions,D=f.error,P=(0,a.useCallback)((function(){S()?L():(0,Z.f)(50)}),[L,S]),F=(0,H.u)({unsignedTxOrUserOp:R,wallet:M,request:u.kind,dappURL:(0,s.m)(u.dappURL)}),W=F.txScannerData,X=F.txScannerNotices,ue=F.isTxScannerLoading,de=F.isTxScannerError,pe=F.txScannerLoadStartTime,fe=F.resetLoadTimer,he=(0,a.useMemo)((function(){if(W&&1===W.preAuthorizeOperations.length)return W.preAuthorizeOperations[0]}),[W]),be=(0,a.useMemo)((function(){return Boolean(W||ue||de)}),[de,ue,W]),ye=E||[R],ve=(0,G.$)({request:u.request.method,dappURL:(0,s.m)(u.dappURL),blockchain:null==R?void 0:R.blockchain.rawValue,txScannerData:W,isTxPreviewEnabled:T,txScannerNotices:X,walletIndex:null==M||null===(t=M.selectedIndex)||void 0===t?void 0:t.toString(),chainId:null!==(n=null==R||null===(c=R.network.asChain())||void 0===c?void 0:c.chainId.toString())&&void 0!==n?n:"",numTransactions:ye.length}),we=(0,o.oM)(ve),Te=(0,a.useCallback)((function(e){if(C){var t=u;Array.isArray(e)&&async function(e,t){(0,K.rM)({request:j.J.signAllTransactionsSuccess,dappURL:e.dappURL,blockchain:i.KN});const n=t.map((e=>[...e.signedTxData]));await chrome.runtime.sendMessage({type:"extensionUIResponse",data:{id:e.eventId,action:j.J.signAllTransactionsSuccess,signedTransactionData:n,blockchain:i.KN}})}(t,e),async function(e,t,n){"solanaSendTransaction"===e.kind?(n({blockchain:i.KN,request:j.J.sendTransactionSuccess,dappURL:e.dappURL}),await chrome.runtime.sendMessage({type:"extensionUIResponse",data:{id:e.eventId,action:j.J.sendTransactionSuccess,txHash:t.txHash,blockchain:i.KN}})):(n({request:j.J.signTransactionSuccess,dappURL:e.dappURL,blockchain:i.KN}),await chrome.runtime.sendMessage({type:"extensionUIResponse",data:{id:e.eventId,action:j.J.signTransactionSuccess,signedTransactionData:[...t.signedTxData],blockchain:i.KN}}))}(t,e,we)}else!async function(e,t,n){n({request:e.request.params.shouldSubmit?J.l.submitEthereumTransactionSuccess:J.l.signEthereumTransactionSuccess,dappURL:e.dappURL}),e.request.params.shouldSubmit?await chrome.runtime.sendMessage({type:"extensionUIResponse",data:{id:e.eventId,action:J.l.submitEthereumTransactionSuccess,txHash:(0,$.ensureHexString)(t.txHash,!0),blockchain:Y.fz,chainId:Number(t.chainId)}}):await chrome.runtime.sendMessage({type:"extensionUIResponse",data:{id:e.eventId,action:J.l.signEthereumTransactionSuccess,signedTxData:(0,$.hexStringFromBuffer)(t.signedTxData),blockchain:Y.fz,chainId:Number(t.chainId)}})}(u,e,we);P()}),[P,C,u,we]),xe=(0,a.useCallback)((function(e){var t;k({eventId:u.eventId,request:u.request.method,error:null!=e?e:r.standardErrors.provider.userRejectedRequest({}),dappURL:u.dappURL,blockchain:y,chainId:null==R||null===(t=R.network.asChain())||void 0===t?void 0:t.chainId}),P()}),[k,u.eventId,u.request.method,u.dappURL,y,null==R?void 0:R.network,P]);if(!M||!I||!R||!W&&!C&&void 0===R)return h?(0,le.jsx)(ne.J,{onPressClose:xe,analyticsData:ve}):(0,le.jsx)(le.Fragment,{});var Ce=C?(0,le.jsx)(oe.Q,{options:u,wallet:M,unsignedTransactions:ye,blockchain:y,parsedOperations:W,txScannerNotices:X,error:D,isTxScannerError:de,isTxScannerLoading:ue,txScannerLoadStartTime:null==pe?void 0:pe.current,resetLoadTimer:fe,isTxScannerEnabled:be&&1===ye.length,onCompleteRequest:Te,onCancelRequest:xe},"transactionRequest"):(0,le.jsx)(se.m,{options:u,wallet:M,feeWallet:I,unsignedTxOrUserOp:R,blockchain:y,parsedOperations:W,txScannerNotices:X,approveOperation:he,error:D,isTxScannerError:de,isTxScannerLoading:ue,txScannerLoadStartTime:null==pe?void 0:pe.current,resetLoadTimer:fe,isTxScannerEnabled:be,onCompleteRequest:Te,onCancelRequest:xe},"transactionRequest");return(0,le.jsx)(_.t,{fallback:(0,le.jsx)(ne.J,{onPressClose:xe,analyticsData:ve}),children:(0,le.jsx)(z.o,{children:(0,le.jsx)(ie.Zd.Provider,{onSubmit:B(),children:(0,le.jsx)(ie.Im.Provider,{children:(0,le.jsx)(V.a,{height:me,children:(0,le.jsxs)(ie.Im.Steps,{children:[Ce,(0,le.jsx)(re.o,{wallet:M},"adjustGasPreset"),(0,le.jsx)(ae.Q,{wallet:M},"adjustGasCustom")]})})})})})})}fe(he,"useState{[transactionContext, setTransactionContext](defaultTransactionContext)}\nuseState{[txSettled, setTxSettled](false)}\nuseAllWallets{wallets}\nuseIsTxPreviewEnabled{isTxPreviewEnabled}\nuseIsFeatureEnabled{isSolanaPriorityFeeEnabled}\nuseCancel{cancel}\nuseHandleNextQueuedRequest{handleNextQueuedRequest}\nuseHasNextQueuedRequest{hasNextQueuedRequest}\nuseEffect{}\nuseCallback{handleNextRequestOrCloseWindow}\nuseTxScanner{{\n    txScannerData,\n    txScannerNotices,\n    isTxScannerLoading,\n    isTxScannerError,\n    txScannerLoadStartTime,\n    resetLoadTimer,\n  }}\nuseMemo{approveOperation}\nuseMemo{isTxScannerEnabled}\nuseSignTransactionEventData{analyticsData}\nuseTriggerWeb3RequestSendingSuccessResponse{triggerWeb3RequestSendingSuccessResponse}\nuseCallback{completeRequest}\nuseCallback{cancelRequest}",(function(){return[q.H,U.f,l.x,Q.U,ee.X,te.X,H.u,G.$,o.oM]})),(de="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(de.register(me,"DAPP_REQUEST_VIEWPORT_HEIGHT","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/DappTransactionRequest.tsx"),de.register(ge,"defaultTransactionContext","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/DappTransactionRequest.tsx"),de.register(he,"DappTransactionRequest","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/DappTransactionRequest.tsx")),(pe="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&pe(e)},6507:(e,t,n)=>{"use strict";n.d(t,{Q:()=>f});var a,r,o,s=n(14041),i=n(73779),l=n(90685),c=n(33396),u=n(37121),d=n(65103),p=n(31085);function f(e){var t=e.wallet,n=(0,c.lE)(d.Im),a=n.goBack,r=n.goToStep,o=(0,u.A)(d.Zd),f=o.toAddress,m=o.unsignedTransaction,g=o.initialGasLimit,h=(0,s.useCallback)((function(e){m.onChange(e.transaction),r("transactionRequest")}),[r,m]),b=(0,i.K)(g.value,t.network);if(!b)throw Error("Miner fees not defined");var y=(0,s.useMemo)((function(){return{gasLimit:g.value,maxFee:null==b?void 0:b.normal.maxFeePerGas,maxPriorityFee:null==b?void 0:b.normal.maxPriorityFeePerGas,baseFee:null==b?void 0:b.normal.baseFeePerGas}}),[b,g.value]);return(0,p.jsx)(l.R,{wallet:t,toAddress:f.value,unsignedTxOrUserOp:m.value,initialFees:y,handleGenerateTx:h,goBack:a,flowType:"dappTxn"})}e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(f,"useStepper{{ goBack, goToStep }}\nuseFields{{ toAddress, unsignedTransaction, initialGasLimit }}\nuseCallback{handleGenerateTx}\nuseMinerFeeEstimates{estimates}\nuseMemo{initialFees}",(function(){return[c.lE,u.A,i.K]})),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&r.register(f,"AdjustGasCustomStep","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/AdjustGasCustomStep/AdjustGasCustomStep.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},13783:(e,t,n)=>{"use strict";n.d(t,{o:()=>f});var a,r,o,s=n(14041),i=n(47891),l=n(41193),c=n(33396),u=n(37121),d=n(65103),p=n(31085);function f(e){var t=e.wallet,n=(0,c.lE)(d.Im),a=n.goBack,r=n.goToStep,o=(0,u.A)(d.Zd),f=o.toAddress,m=o.unsignedTransaction,g=o.initialGasLimit,h="dappTxn",b=(0,s.useCallback)((function(){(0,i.x$)(h),r("adjustGasCustom")}),[r]),y=(0,s.useCallback)((function(e){m.onChange(e.transaction),r("transactionRequest")}),[r,m]);return(0,p.jsx)(l.v,{wallet:t,toAddress:f.value,unsignedTxOrUserOp:m.value,initialGasLimit:g.value,handleGenerateTx:y,goBack:a,goToCustom:b,flowName:h})}e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(f,"useStepper{{ goBack, goToStep }}\nuseFields{{ toAddress, unsignedTransaction, initialGasLimit }}\nuseCallback{handlePressCustom}\nuseCallback{handleGenerateTx}",(function(){return[c.lE,u.A]})),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&r.register(f,"AdjustGasPresetStep","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/AdjustGasPresetStep/AdjustGasPresetStep.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},83451:(e,t,n)=>{"use strict";n.d(t,{$:()=>R});var a,r=n(14041),o=n(32183),s=n(8867),i=n(70157),l=n(47340),c=n(2775),u=n(95479),d=n.n(u),p=n(50297),f=n(2673),m=n(84492),g=n(55799),h=n(15654),b=n(35001),y=n(94330),v=n(72162),w=n(98055),T=n(60149),x=n(74994),C=n(31085);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},L=(0,o.YK)({transactionDetailsHeader:{id:"wEyTQs",defaultMessage:[{type:0,value:"Transaction details"}]},transactionWarning:{id:"fcgTbM",defaultMessage:[{type:0,value:"This type of request is sometimes used for malicious purposes. Make sure you fully trust this site."}]},unknownTxnTooltip:{id:"tF2L9s",defaultMessage:[{type:0,value:"This is an unknown program type. Make sure you trust this dapp."}]}});function S(e){var t=e.instructionParam,n=e.isInstructionUnknown,a="".concat(i.D.SOLANA_MAINNET.blockExplorerUrl,"/address/"),r=n&&t.paramKey===l.P,o="string"==typeof t.paramValue&&t.paramValue.length>15?(0,c.kU)(t.paramValue,6,4):t.paramValue;return(0,C.jsxs)(m.z,{spacingHorizontal:2,justifyContent:"space-between",spacingBottom:1,testID:"instruction-param-row",children:[(0,C.jsx)(y.C,{as:"p",color:"foregroundMuted",children:d()(t.paramKey)}),(0,C.jsx)(y.C,{as:"p",color:"foregroundMuted",children:r?(0,C.jsx)(v.N_,{to:"".concat(a).concat(t.paramValue),testID:"link-solana-explorer",openInNewWindow:!0,children:o}):o})]})}function A(e){var t=e.instruction,n=e.dappURL,a=e.request,r=(0,s.A)().formatMessage,o="unknown"===t.instructionType.toLowerCase();return(0,x.Hr)({dappURL:n,request:a,instructionType:t.instructionType}),(0,C.jsxs)(p.Z,{width:"100%",elevation:1,borderedBottom:!0,spacingBottom:1,testID:"instruction-card",children:[(0,C.jsxs)(m.z,{alignItems:"baseline",children:[(0,C.jsx)(w.v,{as:"p",color:"foreground",spacingStart:2,spacingTop:2,spacingBottom:1,children:d()(t.instructionType)}),o&&(0,C.jsx)(g.a,{justifyContent:"center",children:(0,C.jsx)(b.m,{testID:"unknown-txn-tooltip",content:r(L.unknownTxnTooltip),placement:"bottom",children:(0,C.jsx)(f.I,{name:"info",size:"xs",color:"foreground",testID:"warning-unknown-program-icon",spacingHorizontal:.5})})})]}),t.instructionParams.map((function(e,t){return(0,C.jsx)(S,{instructionParam:e,isInstructionUnknown:o},"instruction-row-".concat(t))}))]})}k(A,"useIntl{{ formatMessage }}\nuseWeb3InstructionTypeDataViewed{}",(function(){return[s.A,x.Hr]}));var M,I,R=(0,r.memo)(k((function(e){var t=e.solUnsignedTxs,n=e.dappURL,a=e.request,o=e.showTransactionWarning,i=(0,s.A)().formatMessage,l=(0,r.useMemo)((function(){var e=[];return t.forEach((function(t,r){t.dappInstructionMetaData&&Array.isArray(t.dappInstructionMetaData)&&t.dappInstructionMetaData.forEach((function(t,o){e.push((0,C.jsx)(A,{instruction:t,dappURL:n,request:a},"instruction-info-".concat(r,",").concat(o)))}))})),e}),[t,n,a]);return(0,C.jsxs)(h.T,{width:"100%",gap:2,children:[(0,C.jsx)(T.f,{spacingStart:2,as:"h3",children:i(L.transactionDetailsHeader)}),o&&(0,C.jsx)(p.Z,{testID:"txn-warning",spacingVertical:2,bordered:!0,borderRadius:"rounded",children:(0,C.jsxs)(m.z,{justifyContent:"flex-start",children:[(0,C.jsx)(f.I,{testID:"txn-warning-icon",name:"info",size:"s",color:"foregroundMuted",spacingStart:2,spacingTop:.5}),(0,C.jsx)(y.C,{as:"p",color:"foregroundMuted",spacingHorizontal:1,children:i(L.transactionWarning)})]})}),(0,C.jsx)(p.Z,{borderedHorizontal:!0,borderedTop:!0,borderRadius:"rounded",children:l})]})}),"useIntl{{ formatMessage }}\nuseMemo{instructionCards}",(function(){return[s.A]})));(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(M.register(L,"messages","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/SolanaTransactionRequestStep/SolanaAdvancedTxnDetails.tsx"),M.register(S,"InstructionParamRow","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/SolanaTransactionRequestStep/SolanaAdvancedTxnDetails.tsx"),M.register(A,"InstructionCard","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/SolanaTransactionRequestStep/SolanaAdvancedTxnDetails.tsx"),M.register(R,"SolanaAdvancedTxnDetails","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/SolanaTransactionRequestStep/SolanaAdvancedTxnDetails.tsx")),(I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&I(e)},7888:(e,t,n)=>{"use strict";n.d(t,{Q:()=>W});var a=n(14041),r=n(32183),o=n(8867),s=n(2719),i=n(84141),l=n(52135),c=n(47656),u=n(13394),d=n(71847),p=n(70210),f=n(29440),m=n(84632),g=n(24117),h=n(4244),b=n(68228),y=n(23804),v=n(89029),w=n.n(v);const T=(0,r.YK)({getMoreCurrencyError:{id:"0EGgTz",defaultMessage:"{totalCostCrypto} ({totalCostFiat}) may be required for the transaction. Please deposit more {currencyCode}."},solanaNetworkCongestionWarning:{id:"VzJ+/i",defaultMessage:"Solana network is experiencing congestion. Transactions may fail to send or confirm"},errorCancel:{id:"8gdsKY",defaultMessage:"Cancel"},errorConfirm:{id:"c7nwmM",defaultMessage:"Confirm"},sendKilledError:{id:"R6qUvO",defaultMessage:"This feature is currently unavailable. Try again later."},learnMore:{id:"9DtuSP",defaultMessage:"Learn more"}});function x({wallet:e,unsignedTxs:t,error:n,feeWallet:r}){const{formatMessage:s}=(0,o.A)(),i=(0,h.J9)(),l=(0,b.F)("kill_dapp_tx"),c=t[0],u=c.feePayerAddress&&c.feePayerAddress===e.primaryAddress,d=(0,a.useMemo)((()=>t.reduce(((e,t)=>e+t.estimatedFee+(t.extraFee??0n)),0n)),[t]),p=(0,a.useMemo)((()=>t.reduce(((e,t)=>e+t.transferValue),0n)),[t]),f=(0,a.useMemo)((()=>{if(c)return i.formatToCrypto({currencyCode:c.feeCurrencyCode,decimals:c.feeCurrencyDecimal,value:BigInt(d),includeCode:!0,maxDisplayDecimals:8n})}),[i,d,c]),m=(0,a.useMemo)((()=>{if(!c)return;const t=i.fiatValue({currencyCode:c.feeCurrencyCode,decimals:c.feeCurrencyDecimal,value:BigInt(d),contractAddress:void 0,network:e.network,blockchain:e.blockchain});return t?.lessThan(new(w())(.01))&&t?.greaterThan(new(w())(0))?`<${i.fiatValueString(new(w())(.01),!0)}`:i.formatToFiat({fromCurrencyCode:c.feeCurrencyCode,decimals:c.feeCurrencyDecimal,value:BigInt(d),isAbbreviated:!1,contractAddress:void 0,network:e.network,blockchain:e.blockchain})}),[i,d,c,e.network,e.blockchain]),g=(0,a.useMemo)((()=>{const t=e?.blockchain.rawValue,n=r?.blockchain.rawValue;return l(t)||l(n)}),[r,l,e]),v=(0,a.useMemo)((()=>({getMoreCurrencyError:{type:"getMoreCurrencyError",isDismissible:!1,showErrorIcon:!0,isDisabled:!0,message:s(T.getMoreCurrencyError,{totalCostCrypto:f,totalCostFiat:m,currencyCode:e.network?.asChain()?.baseAssetCurrencyCode??e.blockchain.rawValue})},sendKilledError:{type:"sendKilledError",isDismissible:!1,showErrorIcon:!0,isDisabled:!0,message:s(T.sendKilledError)},genericError:{type:"genericError",isDismissible:!1,showErrorIcon:!0,isDisabled:!0,message:`${n?.message}`},solanaNetworkCongestionWarning:{type:"solanaNetworkCongestionWarning",isDismissible:!0,showErrorIcon:!1,isDisabled:!1,message:s(T.solanaNetworkCongestionWarning)}})),[n?.message,s,f,m,e.blockchain.rawValue,e.network]);return(0,a.useMemo)((()=>{if(!t||!r)return;if(g)return v.sendKilledError;if(n)return v.genericError;const a=y.u.isEqual(e,r)?d+p:d;return u&&(void 0===r.balance||r.balance<a)?v.getMoreCurrencyError:void 0}),[t,r,g,v.sendKilledError,v.genericError,v.getMoreCurrencyError,n,d,p,e,u])}var C,k=n(70960),L=n(70918),S=n(46845),A=n(24905),M=n(61513),I=n(64887),R=n(24745),E=n(28672),j=n(5950),D=n(74994),P=n(36783),F=n(83451),O=n(56450),G=n(31085);e=n.hmd(e),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&C(e);var U,H,q="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},N=(0,r.YK)({confirmTransactionTitle:{id:"l68NyE",defaultMessage:[{type:0,value:"Confirm transaction"}]},confirmAllTransactionsTitle:{id:"LnJrm5",defaultMessage:[{type:0,value:"Confirm multiple transactions"}]},cancel:{id:"kSix9e",defaultMessage:[{type:0,value:"Cancel"}]},confirm:{id:"m1nG96",defaultMessage:[{type:0,value:"Confirm"}]},confirmAll:{id:"MvK7Qg",defaultMessage:[{type:0,value:"Confirm All"}]}});function W(e){var t,n,r,h=e.options,b=e.wallet,y=e.unsignedTransactions,v=e.blockchain,w=e.error,T=e.isTxScannerLoading,C=e.parsedOperations,U=e.txScannerNotices,H=e.isTxScannerError,q=e.txScannerLoadStartTime,W=e.resetLoadTimer,B=e.isTxScannerEnabled,_=e.onCompleteRequest,V=e.onCancelRequest,z=(0,o.A)().formatMessage,K=b.imageURL,Z=b.displayName,$=h instanceof P.sM,Y=(0,O.L)(b,y),J=(0,j.s)(),X=h.request,Q=h.dappURL,ee=h.dappName,te=h.kind,ne=(0,g.gs)(),ae=(0,m.n)(),re=(0,d.x)("transaction_preview_solana"),oe=(0,a.useMemo)((function(){return{dappLogoURL:h.dappLogoURL,dappLogoURLAlt:h.dappLogoURLAlt,dappURL:h.dappURL,networkBadgeURL:K,networkBadgeAlt:Z}}),[Z,K,h.dappLogoURL,h.dappLogoURLAlt,h.dappURL]),se=(0,a.useMemo)((function(){var e=y[0].nativeDappTransaction;if(e)return(0,c.Y2)(e)?"versioned":"legacy"}),[y]),ie=(0,k.$)({request:X.method,dappURL:(0,l.m)(Q),blockchain:y[0].blockchain.rawValue,txScannerData:C,isTxPreviewEnabled:re,txScannerNotices:U,walletIndex:null===(t=b.selectedIndex)||void 0===t?void 0:t.toString(),numTransactions:y.length,solanaTransactionVersion:se});(0,i.NN)(ie);var le=(0,L.h)(),ce=(0,S.J)(le,y[0]);if(!ce)throw new Error("Something went wrong in TransactionRequestStep");var ue=x({wallet:b,unsignedTxs:y,error:w,feeWallet:ce}),de=(0,i.wZ)(ie),pe=(0,a.useCallback)((function(e){(0,u.gf)({error:e,context:"transactions",severity:"error",isHandled:!1}),de({errorMessage:e.message}),V(e)}),[de,V]),fe=(0,p.D)({wallet:b,unsignedTxOrUserOp:y[0],signSuccess:_,signError:pe,skipSubmit:"solanaSendTransaction"!==h.kind,handleUnlock:J(b.accountId),source:ee}),me=fe.signAndSubmitStandalone,ge=fe.isSignAndSubmitStandaloneLoading,he=(0,f.z)({wallet:b,unsignedTxsOrUserOps:y,signSuccess:_,signError:pe,handleUnlock:J(b.accountId),source:ee}),be=he.signMultipleTransactionsStandalone,ye=he.isSignMultipleTransactionsStandaloneLoading,ve=ge||ye;(0,a.useEffect)((function(){null!=ue&&ue.isDisabled||ve||(0,D.gd)({dappURL:Q,request:te,blockchain:v})}),[v,Q,ve,te,null==ue?void 0:ue.isDisabled]);var we=(0,i.wl)(ie),Te=(0,i.uE)(ie),xe=(0,a.useCallback)((function(){we(),V(s.standardErrors.provider.userRejectedRequest({}))}),[V,we]),Ce=(0,a.useCallback)((function(){Te(),$?be():me()}),[Te,$,be,me]),ke=(null==C||null===(n=C.assetChangeOperations)||void 0===n?void 0:n.length)||(null==C||null===(r=C.preAuthorizeOperations)||void 0===r?void 0:r.length),Le=(0,a.useMemo)((function(){var e;return[{children:z(N.cancel),variant:"secondary",onPress:xe,testID:"sol-request-cancel-button"},{children:$&&y.length>1?z(N.confirmAll):z(N.confirm),variant:null!=ue&&ue.isDisabled?"secondary":"primary",disabled:null!==(e=null==ue?void 0:ue.isDisabled)&&void 0!==e?e:ve,loading:ve,onPress:Ce,testID:"sol-request-confirm-button"}]}),[z,xe,$,y.length,null==ue?void 0:ue.isDisabled,ve,Ce]),Se=(0,a.useMemo)((function(){return re?H?(0,G.jsx)(I.F,{analyticsData:ie,txScannerNotices:U}):T?(0,G.jsx)(R.l,{}):ke&&B?(0,G.jsx)(M.B,{resetLoadTimer:W,txScannerLoadStartTime:q,parsedOperations:C,userWalletAddress:b.primaryAddress,analyticsData:ie,network:b.network,isRevokeOperation:!1,exchangeRatesMap:ne,activeFiatCurrency:ae}):(0,G.jsx)(I.F,{analyticsData:ie,txScannerNotices:U}):null}),[re,H,T,ke,B,ie,U,W,q,C,b.primaryAddress,b.network,ne,ae]);return b?(0,G.jsx)(E.Z,{isTxScannerEnabled:B,height:A.fG,shouldRenderTxPreviewHeader:!0,dappInfo:oe,headerText:$&&y.length>1?z(N.confirmAllTransactionsTitle):z(N.confirmTransactionTitle),topSection:Se,advancedDetailsSection:(!B||H||!ke||!re)&&(0,G.jsx)(F.$,{solUnsignedTxs:y,dappURL:h.dappURL,request:h.kind,showTransactionWarning:!0}),detailRowItems:Y,disableBackBtn:!0,error:ue,buttonProps:Le,showTransactionWarning:!1,signingAddressToDisplay:b.primaryAddress}):(0,G.jsx)(G.Fragment,{})}q(W,"useIntl{{ formatMessage }}\nuseSolanaTransactionRequestDetails{detailRows}\nuseHandleUnlockForSigning{handleUnlock}\nuseExchangeRatesMap{exchangeRatesMap}\nuseActiveFiatCurrency{activeFiatCurrency}\nuseIsFeatureEnabled{isTxPreviewEnabled}\nuseMemo{dappInfo}\nuseMemo{solanaTransactionVersion}\nuseSignTransactionEventData{analyticsData}\nuseTransactionRequestStepViewed{}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseTxFeeWallet{feeWallet}\nuseSolTransactionDetailErrors{solanaTransactionDetailErrors}\nuseTriggerWeb3SignTransactionError{triggerWeb3SignTransactionError}\nuseCallback{signError}\nuseSignAndSubmitStandalone{{ signAndSubmitStandalone, isSignAndSubmitStandaloneLoading }}\nuseSignMultipleTransactionsStandalone{{ signMultipleTransactionsStandalone, isSignMultipleTransactionsStandaloneLoading }}\nuseEffect{}\nuseTriggerWeb3CancelTransactionClicked{triggerWeb3CancelTransactionClicked}\nuseTriggerWeb3ConfirmTransactionClicked{triggerWeb3ConfirmTransactionClicked}\nuseCallback{handleCancelButtonPress}\nuseCallback{handlePrimaryButtonPress}\nuseMemo{buttonOptions: ButtonProps[]}\nuseMemo{topSection}",(function(){return[o.A,O.L,j.s,g.gs,m.n,d.x,k.$,i.NN,L.h,S.J,x,i.wZ,p.D,f.z,i.wl,i.uE]})),(U="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(U.register(N,"messages","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/SolanaTransactionRequestStep/SolanaTransactionRequestStep.tsx"),U.register(W,"SolanaTransactionRequestStep","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/SolanaTransactionRequestStep/SolanaTransactionRequestStep.tsx")),(H="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&H(e)},56450:(e,t,n)=>{"use strict";n.d(t,{L:()=>y});var a,r=n(14041),o=n(32183),s=n(8867),i=n(4244),l=n(74045),c=n(21476),u=n(89029),d=n.n(u),p=n(16238),f=n.n(p);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var m,g,h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},b=(0,o.YK)({walletUsedLabel:{id:"o99uP8",defaultMessage:[{type:0,value:"Wallet used"}]},networkFeeLabel:{id:"jbv0bT",defaultMessage:[{type:0,value:"Total network fee"}]},networkNameLabel:{id:"MWZ9F7",defaultMessage:[{type:0,value:"Network"}]},unknownNetwork:{id:"Kdb7tZ",defaultMessage:[{type:0,value:"Unknown network"}]},transactionSpeedLabel:{id:"sSDDvu",defaultMessage:[{type:0,value:"Transaction speed"}]},addressLabel:{id:"Lk+qm8",defaultMessage:[{type:0,value:"Address"}]}});function y(e,t){var n,a=(0,s.A)().formatMessage,o=(0,i.J9)(),u=t[0],p=(0,l.Z)(null===(n=u.network.asChain())||void 0===n?void 0:n.chainId).networkFeeTooltip,m=(0,r.useMemo)((function(){var e,n,a,r=t.reduce((function(e,t){return e+t.estimatedFee}),0n);n=o.formatToFiat({fromCurrencyCode:u.feeCurrencyCode,decimals:u.feeCurrencyDecimal,value:r,isAbbreviated:!1,contractAddress:void 0,network:u.network,blockchain:u.blockchain}),a=o.formatToCrypto({currencyCode:u.feeCurrencyCode,decimals:u.feeCurrencyDecimal,value:r,network:u.network,blockchain:u.blockchain,includeCode:!0});var s=o.fiatValue({currencyCode:u.feeCurrencyCode,decimals:u.feeCurrencyDecimal,value:r,contractAddress:void 0,network:u.network,blockchain:u.blockchain}),i=new(d())(.01);return null!==(e=null!=s&&s.greaterThanOrEqualTo(i)?n:a)&&void 0!==e?e:""}),[t,o,u.feeCurrencyCode,u.feeCurrencyDecimal,u.network,u.blockchain]),g=(0,r.useMemo)((function(){var t=e.network.asChain();return t?t.displayName:a(b.unknownNetwork)}),[a,e]);return(0,r.useMemo)((function(){var t;return f()([{label:a(b.walletUsedLabel),detailText:(0,c.R)(null===(t=e.primaryAddress)||void 0===t?void 0:t.toString())},{label:a(b.networkNameLabel),detailText:null==g?void 0:g.toString()},{label:a(b.networkFeeLabel),detailText:m.toString(),tooltipText:a(p)}])}),[a,p,m,g,e.primaryAddress])}h(y,"useIntl{{ formatMessage }}\nuseCurrencyFormatter{formatter}\nuseNetworkFeeTooltipMessages{{ networkFeeTooltip }}\nuseMemo{formattedNetworkFee}\nuseMemo{formattedNetworkName}\nuseMemo{}",(function(){return[s.A,i.J9,l.Z]})),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(b,"messages","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/SolanaTransactionRequestStep/useSolanaTransactionRequestDetails.tsx"),m.register(y,"useSolanaTransactionRequestDetails","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/SolanaTransactionRequestStep/useSolanaTransactionRequestDetails.tsx")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)},9684:(e,t,n)=>{"use strict";n.d(t,{m:()=>xe});var a=n(14041),r=n(32183),o=n(8867),s=n(2719),i=n(47891),l=n(84141),c=n(52135),u=n(46122),d=n(52303),p=n(13394),f=n(53404),m=n(70210),g=n(4244),h=n(71847);var b=n(69148),y=n(16835),v=n(81415),w=n(2775);const T=(0,r.YK)({withdrawLimit:{id:"bD+pZd",defaultMessage:"Withdraw Limit"},fullBalance:{id:"5jtsyf",defaultMessage:"All of your {currencyCode}"},multipleAssets:{id:"H47jTv",defaultMessage:"Multiple assets"},entireNFTCollection:{id:"M2Xmbf",defaultMessage:"Entire Collection"},singleNFTItem:{id:"n9Caq6",defaultMessage:"1 item"},spendLimitTooltipText:{id:"wAda+E",defaultMessage:"The maximum amount the smart contract will be able to withdraw."},accessLimitTooltipText:{id:"9IKrsx",defaultMessage:"The number of NFTs the dapp will be able to withdraw."},spendLimitTooltipDetailText:{id:"s1gURw",defaultMessage:"This dapp can withdraw up to {amount} from your wallet"},fullBalanceTooltipDetailText:{id:"kV447F",defaultMessage:"This app can withdraw all your {currencyCode}. Make sure you trust this site."},fullBalanceToEOATooltipDetailText:{id:"YV3p15",defaultMessage:"This dapp will be allowed to withdraw all your {currencyCode} to someone else's address, which is a common sign of fraud. Are you sure you trust this site?"},nftCollectionTooltipDetailText:{id:"0Ty7AI",defaultMessage:"This app can withdraw all your {collectionName} NFTs. Make sure you trust this site."},nftCollectionEoaTooltipDetailText:{id:"30QftR",defaultMessage:"This dapp will be allowed to withdraw all your {collectionName} NFTs to someone else's address, which is a common sign of fraud. Are you sure you trust this site?"},multipleAssetsTooltipDetailText:{id:"oFmFdx",defaultMessage:"This dapp can withdraw the entire balance of multiple assets. Make sure you trust it."},tooltipDetailTitle:{id:"l2xtPz",defaultMessage:"Be careful"},singleNFTEoaWarningText:{id:"2y+DlX",defaultMessage:"This dapp will be allowed to withdraw your {nftName} NFT to someone else's address, which is a common sign of fraud. Are you sure you trust this site?"},fixedAmountWithdrawalToEOAWarningText:{id:"mM3ktw",defaultMessage:"This dapp will be allowed to withdraw {amount} to someone else's address, which is a common sign of fraud. Are you sure you trust this site?"},multipleERC20TokenUnlimitedWithdraw:{id:"KDXgI3",defaultMessage:"This app can withdraw all your {token} and {lastToken}. Make sure you trust this site"},multipleERC20TokenToEOAUnlimitedWithdraw:{id:"OPiMx8",defaultMessage:"This dapp will be allowed to withdraw all your {token} and {lastToken} to someone else's address, which is a common sign of fraud. Are you sure you trust this site?"},multipleERC721TokenUnlimitedWithdraw:{id:"Ril9ru",defaultMessage:"This app can withdraw all your {NFT} and {lastNFT}. Make sure you trust this site"},multipleERC721TokenToEOAUnlimitedWithdraw:{id:"8nbxll",defaultMessage:"This dapp will be allowed to withdraw all your {NFT} and {lastNFT} to someone else's address, which is a common sign of fraud. Are you sure you trust this site?"},multipleERC20TokenLimitedWithdraw:{id:"0Yr/xX",defaultMessage:"This dapp can withdraw {token} and {lastToken}. Make sure you trust this site"},multipleERC20TokenToEOALimitedWithdraw:{id:"Wr5c/Y",defaultMessage:"This dapp will be allowed to withdraw {token} and {lastToken} to someone else's address, which is a common sign of fraud. Are you sure you trust this site?"},multipleERC721TokenLimitedWithdraw:{id:"eJSpL0",defaultMessage:"This dapp can withdraw {NFT} and {lastNFT}. Make sure you trust this site"},multipleERC721TokenToEOALimitedWithdraw:{id:"vyAA56",defaultMessage:"This dapp will be allowed to withdraw {NFT} and {lastNFT} to someone else's address, which is a common sign of fraud. Are you sure you trust this site?"},maliciousNoticeTypeLabelText:{id:"nZYijI",defaultMessage:"Fraudulent address detected"},maliciousNoticeTypeDetailText:{id:"utrXrP",defaultMessage:"Warning"},maliciousNoticeTypeWarningText:{id:"Lt4i3U",defaultMessage:"This transaction may be trying to steal your funds. Are you sure you want to continue?"},maliciousNoticeTypeWarningSignText:{id:"gUV5sB",defaultMessage:"This message may be trying to steal your funds. Are you sure you want to continue?"}});function x(e,t,n){const r=(0,b.f)(),s=(0,g.J9)(),{formatMessage:i}=(0,o.A)(),l=(0,h.x)("eoa_approval_fraud_warning"),c=(0,h.x)("dapp_tx_confirmation_scam_warning"),u=function({txScannerNotices:e}){return(0,a.useMemo)((()=>void 0!==e?.find((({noticeType:e})=>"NOTICE_TYPE_5"===e))),[e])}({txScannerNotices:t}),d=(0,a.useCallback)((function(e){if(e.currencyCode&&e.decimals)return s.formatToCrypto({value:e.amountValue,currencyCode:e.currencyCode,decimals:BigInt(e.decimals),includeCode:!0,maxDisplayDecimals:8n,shouldDisplayDustAmount:!1})}),[s]),p=(0,a.useCallback)((function(e){const t=e.amountValue,n=e.currentBalanceValue;if(!n&&0n!==n||t&&n>0n&&t>=n&&t>0n){let t,n;return e.isSpenderAddressEoa&&l?(t=i(T.fullBalanceToEOATooltipDetailText,{currencyCode:e.currencyCode.code}),n=t):t=i(T.fullBalanceTooltipDetailText,{currencyCode:e.currencyCode.code}),{testID:"fullBalanceWarning",label:i(T.withdrawLimit),detailText:i(T.fullBalance,{currencyCode:e.currencyCode.code}),tooltipText:i(T.spendLimitTooltipText),outlineDetailText:t,fraudWarningConfirmationText:n,withWarning:!0,detailTextColor:"negative",isFullBalance:!0,currencyCode:e.currencyCode.code}}const a=d(e);if(a){let t;e.isSpenderAddressEoa&&l&&(t=i(T.fixedAmountWithdrawalToEOAWarningText,{amount:a}));return{testID:"dappWithdrawAmountWithCode",fraudWarningConfirmationText:t,...r?null:{label:i(T.withdrawLimit),detailText:a,tooltipText:i(T.spendLimitTooltipText),tooltipDetailTitle:i(T.tooltipDetailTitle),tooltipDetailText:i(T.spendLimitTooltipDetailText,{amount:a}),currencyCode:e.currencyCode.code},isFullBalance:!1,dappWithdrawAmountWithCode:a,currencyCode:e.currencyCode.code}}}),[d,i,r,l]),f=(0,a.useCallback)((function(e){if("ITEM_APPROVAL_ALL"===e.operationType&&e.isRevoke)return;if("ITEM_APPROVAL"===e.operationType&&e.spenderAddress===v.Gy)return;if(e.operationType===y.S.ITEM_APPROVAL_ALL){let t,n;return e.isOperatorAddressEoa&&l?(t=i(T.nftCollectionEoaTooltipDetailText,{collectionName:e.collectionName?(0,w.Eu)(e.collectionName,15):null}),n=t):t=i(T.nftCollectionTooltipDetailText,{collectionName:e.collectionName?(0,w.Eu)(e.collectionName,15):null}),{testID:"nftCollection",label:i(T.withdrawLimit),detailText:i(T.entireNFTCollection),tooltipText:i(T.accessLimitTooltipText),tooltipDetailTitle:i(T.tooltipDetailTitle),outlineDetailText:t,fraudWarningConfirmationText:n,withWarning:!0,detailTextColor:"negative",isItemApprovalAll:!0}}const t=r?null:{label:i(T.withdrawLimit),detailText:i(T.singleNFTItem),tooltipText:i(T.accessLimitTooltipText),tooltipDetailTitle:i(T.tooltipDetailTitle)};let n;return e.isApprovedAddressEoa&&l&&(n=i(T.singleNFTEoaWarningText,{nftName:e.NFTName?(0,w.Eu)(e.NFTName,15):null})),{testID:"nftItem",...t,fraudWarningConfirmationText:n,isItemApprovalAll:!1}}),[i,r,l]);return(0,a.useMemo)((()=>{if(u&&c)return{label:i(T.maliciousNoticeTypeLabelText),detailText:i(T.maliciousNoticeTypeDetailText),outlineDetailText:i(n?T.maliciousNoticeTypeWarningSignText:T.maliciousNoticeTypeWarningText),withWarning:!0,detailTextColor:"negative",fraudWarningConfirmationText:i(n?T.maliciousNoticeTypeWarningSignText:T.maliciousNoticeTypeWarningText)};if(e&&e.length<1)return null;const t=e?.some((e=>e.isSpenderAddressEoa||e.isApprovedAddressEoa||e.isOperatorAddressEoa)),a=[],r=[],o=[],s=[];let d;const m=(e,n,a,r,o,s)=>{const c=e.slice(0,-1),u=e.slice(-1);let p,f;t&&l?(p=i(a,{[r]:c.join(", "),[o]:u.join("")}),f=p):f=i(n,{[r]:c.join(", "),[o]:u.join("")}),d={...d,outlineDetailText:s?f:void 0,fraudWarningConfirmationText:p}};if(e?.forEach((e=>{e.operationType===y.S.BALANCE_APPROVAL&&(d=p(e),!0===d?.isFullBalance?a.push(d.currencyCode):!1===d?.isFullBalance&&r.push(d.dappWithdrawAmountWithCode)),e.operationType===y.S.ITEM_APPROVAL_ALL?(d=f(e),o.push(e.collectionName)):e.operationType===y.S.ITEM_APPROVAL&&(d=f(e),s.push(e.NFTName))})),0===r.length&&0===a.length&&(o.length>1?m(o,T.multipleERC721TokenUnlimitedWithdraw,T.multipleERC721TokenToEOAUnlimitedWithdraw,"NFT","lastNFT",!0):s.length>1&&m(s,T.multipleERC721TokenLimitedWithdraw,T.multipleERC721TokenToEOALimitedWithdraw,"NFT","lastNFT")),0===s.length&&0===o.length&&(a.length>1?(m(a,T.multipleERC20TokenUnlimitedWithdraw,T.multipleERC20TokenToEOAUnlimitedWithdraw,"token","lastToken",!0),d={...d,detailText:i(T.multipleAssets)}):r.length>1&&m(r,T.multipleERC20TokenLimitedWithdraw,T.multipleERC20TokenToEOALimitedWithdraw,"token","lastToken")),(s.length>0||o.length>0)&&(r.length>0||a.length>0)){let e;t&&l&&(e=i(T.multipleAssetsTooltipDetailText)),d={...d,label:i(T.withdrawLimit),detailText:i(T.multipleAssets),outlineDetailText:i(T.multipleAssetsTooltipDetailText),fraudWarningConfirmationText:e}}return d}),[e,i,p,f,l,c,u,n])}var C=n(27301),k=n(52689),L=n(7427),S=n(84632),A=n(24117),M=n(5961),I=n(99172),R=n(94975),E=n(84168),j=n(36760),D=n(64292),P=n(70960),F=n(66446),O=n(24905),G=n(48784),U=n(61513),H=n(64887),q=n(24745),N=n(33396),W=n(37121),B=n(42238),_=n(2673),V=n(55799),z=n(28118),K=n(87755),Z=n(28672),$=n(26825),Y=n(5950),J=n(14265),X=n(55452),Q=n(34767);var ee,te=n(65103),ne=n(23507),ae=n(74994),re=n(58773),oe=n(31828),se=n(2285),ie=n(78734),le=n(31085);function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ce(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=ce(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ce(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(){fe=function(){return t};var e,t={},n=Object.prototype,a=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof b?t:b,s=Object.create(o.prototype),i=new R(a||[]);return r(s,"_invoke",{value:S(e,n,i)}),s}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",m="executing",g="completed",h={};function b(){}function y(){}function v(){}var w={};c(w,s,(function(){return this}));var T=Object.getPrototypeOf,x=T&&T(T(E([])));x&&x!==n&&a.call(x,s)&&(w=x);var C=v.prototype=b.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function n(r,o,s,i){var l=d(e[r],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==ce(u)&&a.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,i)}),(function(e){n("throw",e,s,i)})):t.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,i)}))}i(l.arg)}var o;r(this,"_invoke",{value:function(e,a){function r(){return new t((function(t,r){n(e,a,t,r)}))}return o=o?o.then(r,r):r()}})}function S(t,n,a){var r=p;return function(o,s){if(r===m)throw Error("Generator is already running");if(r===g){if("throw"===o)throw s;return{value:e,done:!0}}for(a.method=o,a.arg=s;;){var i=a.delegate;if(i){var l=A(i,a);if(l){if(l===h)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(r===p)throw r=g,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r=m;var c=d(t,n,a);if("normal"===c.type){if(r=a.done?g:f,c.arg===h)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(r=g,a.method="throw",a.arg=c.arg)}}}function A(t,n){var a=n.method,r=t.iterator[a];if(r===e)return n.delegate=null,"throw"===a&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==a&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+a+"' method")),h;var o=d(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function E(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(a.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ce(t)+" is not iterable")}return y.prototype=v,r(C,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=c(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},k(L.prototype),c(L.prototype,i,(function(){return this})),t.AsyncIterator=L,t.async=function(e,n,a,r,o){void 0===o&&(o=Promise);var s=new L(u(e,n,a,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},k(C),c(C,l,"Generator"),c(C,s,(function(){return this})),c(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},t.values=E,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(a,r){return i.type="throw",i.arg=t,n.next=a,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],i=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=a.call(s,"catchLoc"),c=a.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;I(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,a){return this.delegate={iterator:E(t),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=e),h}},t}function me(e,t,n,a,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(a,r)}function ge(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function s(e){me(o,a,r,s,i,"next",e)}function i(e){me(o,a,r,s,i,"throw",e)}s(void 0)}))}}function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,s,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=o.call(n)).done)&&(i.push(a.value),i.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return be(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?be(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}e=n.hmd(e),(ee="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&ee(e);var ye,ve,we="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},Te=(0,r.YK)({title:{id:"cYyX/U",defaultMessage:[{type:0,value:"Confirm request"}]},cancel:{id:"kSix9e",defaultMessage:[{type:0,value:"Cancel"}]},confirm:{id:"m1nG96",defaultMessage:[{type:0,value:"Confirm"}]},carefulWarning:{id:"HLft3N",defaultMessage:[{type:0,value:"Be careful!"}]},allowAndContinueText:{id:"hmCtzs",defaultMessage:[{type:0,value:"Allow and continue"}]}});function xe(e){var t,n,r,g,h,y,v,w,T=e.options,ee=e.wallet,ce=e.feeWallet,ue=e.unsignedTxOrUserOp,pe=e.blockchain,me=e.approveOperation,be=e.error,ye=e.isTxScannerLoading,ve=e.parsedOperations,we=e.txScannerNotices,xe=e.isTxScannerError,Ce=e.txScannerLoadStartTime,ke=e.resetLoadTimer,Le=e.isTxScannerEnabled,Se=e.onCompleteRequest,Ae=e.onCancelRequest,Me=(0,A.gs)(),Ie=(0,S.n)(),Re=he((0,a.useState)(),2),Ee=Re[0],je=Re[1],De=(0,M.n)(),Pe=(0,W.A)(te.Zd),Fe=Pe.toAddress,Oe=Pe.unsignedTransaction,Ge=Pe.initialGasLimit,Ue=(0,N.lE)(te.Im).goToStep,He=(0,o.A)().formatMessage,qe=T.request,Ne=T.dappURL,We=T.dappName,Be=(0,a.useContext)($.L).disableConfirmButton,_e=he((0,B.K)(!1),2),Ve=_e[0],ze=_e[1],Ke=ze.toggleOn,Ze=ze.toggleOff,$e=(0,b.f)(),Ye=(0,P.$)({request:qe.method,dappURL:(0,c.m)(Ne),blockchain:null===(t=Oe.value)||void 0===t?void 0:t.blockchain.rawValue,txScannerData:ve,isTxPreviewEnabled:$e,txScannerNotices:we,walletIndex:null===(n=ee.selectedIndex)||void 0===n?void 0:n.toString(),chainId:null===(r=ee.network.asChain())||void 0===r?void 0:r.chainId.toString()});(0,a.useEffect)((function(){Be||(0,ae.gd)({dappURL:Ne,request:qe.method,blockchain:pe})}),[pe,Ne,Be,qe.method]),(0,l.NN)(Ye);var Je=x(null==ve?void 0:ve.preAuthorizeOperations,we),Xe=(0,R.A)(ue,ee),Qe=(0,l.x6)(Ye),et=(0,a.useCallback)((function(){Qe(),Ke()}),[Ke,Qe]),tt=(0,l.wZ)(Ye),nt=(0,a.useCallback)((function(e){(0,p.gf)({error:e,context:"transactions",severity:"error",isHandled:!1}),tt({errorMessage:e.message}),Ae(e)}),[tt,Ae]),at=(0,a.useCallback)((function(e){(0,p.gf)({error:new Error(e.message),context:"ledger-error",severity:"error",isHandled:!1}),"EthAppPleaseEnableContractData"===e.name?je(e.message):nt(e)}),[nt]),rt=(0,a.useCallback)((function(){je(void 0),De(!1),Ze()}),[De,Ze]),ot=(0,Y.s)(),st=(0,L.vQ)(ee.accountId),it=st.hasLocallyStoredKey,lt=st.isLedgerAccount,ct=(0,m.D)({wallet:ee,unsignedTxOrUserOp:Oe.value,signSuccess:Se,signError:nt,skipSubmit:!T.request.params.shouldSubmit,handleUnlock:ot(ee.accountId),source:We}),ut=ct.signAndSubmitStandalone,dt=ct.isSignAndSubmitStandaloneLoading,pt=(0,f.LK)({flow:f.nl.Dapp,unsignedTxOrUserOp:ue,onSignSuccess:Se,onSignError:at,dappURL:Ne,source:We}),ft=pt.signAndSubmitLedger,mt=pt.isHardwareWalletSigning,gt=pt.hardwareWalletScreen,ht=null!=dt?dt:mt;if(!ce)throw new Error("Something went wrong in TransactionRequestStep");(0,a.useEffect)((function(){ue!==Oe.value&&(Fe.onChange(qe.params.toAddress),Oe.onChange(ue),(0,d._)(ue)&&Ge.onChange(ue.gasLimit))}),[Ge,qe.params.toAddress,Fe,Oe,ue]);var bt=(0,j.j)(ee),yt=(0,J.h)(),vt=it&&bt&&(!(0,oe.O)()||yt),wt=(0,a.useCallback)((function(){(0,i.zv)(),Ue("adjustGasPreset")}),[Ue]),Tt=(0,a.useMemo)((function(){return vt?(0,le.jsx)(z.o,{as:"button",onPress:wt,background:"transparent",children:(0,le.jsx)(_.I,{name:"gear",size:"s",color:"foreground",spacingStart:1})}):null}),[vt,wt]),xt=(0,D.Z)({wallet:ee,unsignedTxOrUserOp:Oe.value,error:be,feeWallet:ce,flow:"dappTx"}),Ct=(0,ie.X)(ee,ye,Oe.value,ve,Je,Tt,xt),kt=(0,l.RQ)(Ye),Lt=(0,a.useCallback)((function(){kt(),Ze()}),[Ze,kt]),St=(0,l.wl)(Ye),At=(0,l.uE)(Ye),Mt=(0,a.useCallback)((function(){St(),Ae(s.standardErrors.provider.userRejectedRequest({}))}),[Ae,St]),It=(0,a.useCallback)(ge(fe().mark((function e(){return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(At(),!it){e.next=3;break}return e.abrupt("return",ut());case 3:if(!lt){e.next=5;break}return e.abrupt("return",ft());case 5:case"end":return e.stop()}}),e)}))),[At,it,lt,ut,ft]),Rt=(0,a.useMemo)((function(){var e;return[{children:He(Te.cancel),variant:"secondary",onPress:Mt,testID:"request-cancel-button"},{children:He(Te.confirm),variant:null!=xt&&xt.isDisabled?"secondary":"primary",disabled:(null!==(e=null==xt?void 0:xt.isDisabled)&&void 0!==e?e:ht)||Be,loading:ht,onPress:null!=Je&&Je.fraudWarningConfirmationText?et:It,testID:"request-confirm-button"}]}),[He,Mt,null==xt?void 0:xt.isDisabled,ht,Be,et,It,Je]),Et=C.J.isEqual(ee.blockchain,u.AA)&&k.j.isEqual(ee.currencyCode,k.j.ETH)&&I.lg.isEqual(ee.network,new I.lg("ETHEREUM_CHAIN:1",!1))&&void 0===ee.contractAddress&&0n===ee.selectedIndex,jt=Et?void 0:null!==(g=null===(h=ee.network.asChain())||void 0===h?void 0:h.chainImageUrl)&&void 0!==g?g:ee.imageURL,Dt=Et?void 0:null!==(y=null===(v=ee.network.asChain())||void 0===v?void 0:v.displayName)&&void 0!==y?y:ee.displayName,Pt=Xe,Ft=Pt.gasLimit,Ot=Pt.analyticsId,Gt=Pt.chainId,Ut=Pt.feeCurrencyCode,Ht=Xe,qt=Ht.networkFeeInUSD,Nt=Ht.networkFeeInCrypto,Wt=Xe,Bt=Wt.minFeeInUSD,_t=Wt.maxFeeInUSD,Vt=Wt.minFeeInCrypto,zt=Wt.maxFeeInCrypto,Kt=(0,a.useMemo)((function(){return{dappLogoURL:T.dappLogoURL,dappLogoURLAlt:T.dappLogoURLAlt,dappURL:T.dappURL,networkBadgeURL:jt,networkBadgeAlt:Dt}}),[Dt,jt,T.dappLogoURL,T.dappLogoURLAlt,T.dappURL]),Zt=(0,a.useMemo)((function(){return Boolean($e&&Kt)}),[Kt,$e]),$t=null===(w=ee.network.asChain())||void 0===w?void 0:w.chainId,Yt=(0,E.X)(ve),Jt=(0,a.useMemo)((function(){var e,t,n=(null==me?void 0:me.operationType)&&T;return $e?xe?(0,le.jsx)(H.F,{analyticsData:Ye,txScannerNotices:we}):ye?(0,le.jsx)(q.l,{}):(null==ve||null===(e=ve.assetChangeOperations)||void 0===e?void 0:e.length)||(null==ve||null===(t=ve.preAuthorizeOperations)||void 0===t?void 0:t.length)?(0,le.jsx)(U.B,{resetLoadTimer:ke,txScannerLoadStartTime:Ce,parsedOperations:ve,userWalletAddress:ee.primaryAddress,analyticsData:Ye,isRevokeOperation:Yt,networkChainId:String($t),exchangeRatesMap:Me,activeFiatCurrency:Ie}):(0,le.jsx)(H.F,{analyticsData:Ye,txScannerNotices:we}):n?(0,le.jsx)(V.a,{spacingTop:2,children:(0,le.jsx)(ne.I,{dappLogoURL:T.dappLogoURL,dappLogoURLAlt:T.dappLogoURLAlt,dappURL:T.dappURL,networkBadgeURL:jt,networkBadgeAlt:Dt,approveOperation:me,request:qe.method,blockchain:pe,chainId:String($t)})}):(0,le.jsx)(se.q,{dappLogoURL:T.dappLogoURL,dappLogoURLAlt:T.dappLogoURLAlt,dappURL:T.dappURL,networkBadgeURL:jt,networkBadgeAlt:Dt})}),[me,T,$e,jt,Dt,xe,ye,ve,Ye,we,ke,Ce,ee.primaryAddress,Yt,$t,Me,Ie,qe.method,pe]);return(0,a.useEffect)((function(){var e,t={gasLimit:Ft,analyticsId:Ot,chainId:Gt,feeCurrencyCode:Ut};bt?(e=de(de({},t),{},{minFeeInUSD:Bt,maxFeeInUSD:_t,minFeeInCrypto:Vt,maxFeeInCrypto:zt}),(0,X.$s)("dapp_txn_confirmation_fee_viewed_1559",{action:Q.X2.view,loggingId:"a36eaafb-d620-4e8e-961c-aca8f859331c",componentType:Q.I5.page,minFeeInUSD:e.minFeeInUSD??"",maxFeeInUSD:e.maxFeeInUSD??"",feeCurrencyCode:e.feeCurrencyCode,minFeeInCrypto:e.minFeeInCrypto,maxFeeInCrypto:e.maxFeeInCrypto??"",gasLimit:e.gasLimit,analyticsId:e.analyticsId??"",chainId:e.chainId??""})):function(e){(0,X.$s)("dapp_txn_confirmation_fee_viewed_legacy",{action:Q.X2.view,loggingId:"978713d3-8cf7-4c39-b926-90e93f0a5e86",componentType:Q.I5.page,networkFeeInUSD:e.networkFeeInUSD??"",networkFeeInCrypto:e.networkFeeInUSD??"",feeCurrencyCode:e.feeCurrencyCode,gasLimit:e.gasLimit,analyticsId:e.analyticsId??"",chainId:e.chainId??""})}(de(de({},t),{},{networkFeeInUSD:qt,networkFeeInCrypto:Nt}))}),[Bt,_t,Vt,zt,Ft,Ot,Gt,qt,Nt,Ut,bt]),Ee?(0,le.jsx)(F.v,de(de({spacing:2,elevation:1},re.V6),{},{children:(0,le.jsx)(K.D,{handleBack:rt,errorMessage:Ee})})):mt?gt:Ve&&null!=Je&&Je.fraudWarningConfirmationText?(0,le.jsx)(F.v,de(de({spacing:2,elevation:1},re.V6),{},{children:(0,le.jsx)(G.m,{handlePrimaryButtonPress:It,isLoading:ht,warningContent:Je.fraudWarningConfirmationText,handleCancelButtonPress:Mt,handleBackButton:Lt,analyticsData:Ye,height:O.pA})})):ee?(0,le.jsx)(Z.Z,{isTxScannerEnabled:Le,shouldRenderTxPreviewHeader:Zt,dappInfo:Kt,headerText:He(Te.title),topSection:Jt,detailRowItems:Ct,disableBackBtn:!0,error:xt,buttonProps:Rt,signingAddressToDisplay:ee.primaryAddress,height:O.fG,isRevokeOperation:Yt}):(0,le.jsx)(le.Fragment,{})}we(xe,"useExchangeRatesMap{exchangeRatesMap}\nuseActiveFiatCurrency{activeFiatCurrency}\nuseState{[blindSigningError, setBlindSigningError]}\nuseSetIsHardwareWalletSigning{setIsHardwareWalletSigning}\nuseFields{{ toAddress, unsignedTransaction, initialGasLimit }}\nuseStepper{{ goToStep }}\nuseIntl{{ formatMessage }}\nuseContext{{ disableConfirmButton }}\nuseToggler{[\n    showFraudConfirmation,\n    { toggleOn: setShowFraudConfirmation, toggleOff: setHideFraudConfirmation },\n  ]}\nuseIsTxPreviewEnabled{isTxPreviewEnabled}\nuseSignTransactionEventData{analyticsData}\nuseEffect{}\nuseTransactionRequestStepViewed{}\nuseTxScannerContent{txScannerContent}\nuseAnalyticsFeeData{analyticsFeeData}\nuseTriggerWeb3FraudWarningConfirmationClicked{triggerWeb3FraudWarningConfirmationClicked}\nuseCallback{navigationToFraudWarningConfirmationScreenPressed}\nuseTriggerWeb3SignTransactionError{triggerWeb3SignTransactionError}\nuseCallback{signError}\nuseCallback{signLedgerError}\nuseCallback{retryLedgerTransaction}\nuseHandleUnlockForSigning{handleUnlock}\nuseAccountById{{ hasLocallyStoredKey, isLedgerAccount }}\nuseSignAndSubmitStandalone{{ signAndSubmitStandalone, isSignAndSubmitStandaloneLoading }}\nuseSignAndSubmitLedger{{ signAndSubmitLedger, isHardwareWalletSigning, hardwareWalletScreen }}\nuseEffect{}\nuseIs1559Enabled{is1559Enabled}\nuseIsAdjustableMinerFeeEnabled{isAdjustableMinerFeeEnabled}\nuseCallback{openAdjustableGasPreset}\nuseMemo{AdjustGasPresetAction}\nuseTransactionDetailsErrors{transactionDetailsErrors}\nuseTransactionRequestDetails{detailRows}\nuseTriggerFraudWarningConfirmationBackButtonClicked{triggerFraudWarningConfirmationBackButtonClicked}\nuseCallback{handleFraudConfirmationBackButtonClicked}\nuseTriggerWeb3CancelTransactionClicked{triggerWeb3CancelTransactionClicked}\nuseTriggerWeb3ConfirmTransactionClicked{triggerWeb3ConfirmTransactionClicked}\nuseCallback{handleCancelButtonPress}\nuseCallback{handlePrimaryButtonPress}\nuseMemo{buttonOptions: ButtonProps[]}\nuseMemo{dappInfo}\nuseMemo{shouldRenderTxPreviewHeader}\nuseIsRevokeOperation{isRevokeOperation}\nuseMemo{topSection}\nuseEffect{}",(function(){return[A.gs,S.n,M.n,W.A,N.lE,o.A,B.K,b.f,P.$,l.NN,x,R.A,l.x6,l.wZ,Y.s,L.vQ,m.D,f.LK,j.j,J.h,D.Z,ie.X,l.RQ,l.wl,l.uE,E.X]})),(ye="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(ye.register(Te,"messages","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/TransactionRequestStep.tsx"),ye.register(xe,"TransactionRequestStep","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/TransactionRequestStep.tsx")),(ve="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&ve(e)},2285:(e,t,n)=>{"use strict";n.d(t,{q:()=>v});var a,r=n(14041),o=n(32183),s=n(8867),i=n(50297),l=n(2673),c=n(15654),u=n(84492),d=n(35001),p=n(94330),f=n(60149),m=n(31085);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,s,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=o.call(n)).done)&&(i.push(a.value),i.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},y=(0,o.YK)({requestFrom:{id:"YSmlWG",defaultMessage:[{type:0,value:"Request from"}]},requestWarning:{id:"7F2/Ht",defaultMessage:[{type:0,value:"Make sure you trust this dapp"}]}});function v(e){var t=e.dappLogoURL,n=e.dappLogoURLAlt,a=e.dappURL,o=e.networkBadgeURL,h=e.networkBadgeAlt,b=(0,s.A)().formatMessage,v=new URL(a),w=g((0,r.useState)(t),2),T=w[0],L=w[1],S=(0,r.useCallback)((function(){L(n)}),[n]);return(0,m.jsx)(c.T,{width:"100%",gap:.5,spacingTop:2,children:(0,m.jsx)(i.Z,{bordered:!0,borderRadius:"rounded",elevation:1,spacing:2,width:"100%",height:"160px",children:(0,m.jsxs)(c.T,{justifyContent:"center",gap:.5,height:"100%",children:[(0,m.jsxs)("div",{className:x,children:[(0,m.jsx)("img",{className:k,src:T,alt:n,onError:S}),o&&(0,m.jsx)("img",{className:C,src:o,alt:h})]}),(0,m.jsxs)(u.z,{alignItems:"center",children:[(0,m.jsx)(p.C,{color:"foregroundMuted",as:"p",children:b(y.requestFrom)}),(0,m.jsx)(d.m,{content:b(y.requestWarning),placement:"bottom",children:(0,m.jsx)(l.I,{testID:"dapp-transaction-request-more-info-icon",name:"info",size:"xs",color:"foregroundMuted",spacingStart:1})})]}),(0,m.jsx)(f.f,{as:"p",overflow:"break",testID:"dapp-transaction-request-dapp-host-name",children:v.hostname})]})})})}b(v,"useIntl{{\n    formatMessage\n  }}\nuseState{[sourceUrl, setSourceUrl](dappLogoURL)}\nuseCallback{setAlternativeDappLogoURL}",(function(){return[s.A]}));var w,T,x="lnr9chz",C="njuihv5",k="duoahwy";n(40601),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(w.register(y,"messages","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/TransactionRequestTopSection.tsx"),w.register(v,"TransactionRequestTopSection","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/TransactionRequestTopSection.tsx"),w.register(x,"logoContainer","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/TransactionRequestTopSection.tsx"),w.register(C,"networkBadge","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/TransactionRequestTopSection.tsx"),w.register(k,"dappLogo","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/TransactionRequestTopSection.tsx")),(T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&T(e)},78734:(e,t,n)=>{"use strict";n.d(t,{X:()=>S});var a,r=n(14041),o=n(32183),s=n(8867),i=n(46122),l=n(51676),c=n(4244),u=n(74045),d=n(36760),p=n(38755),f=n(95634),m=n(69148),g=n(16835),h=n(2775),b=n(16238),y=n.n(b);function v(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var T,x,C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},k=(0,o.YK)({costLabel:{id:"WSwaWw",defaultMessage:[{type:0,value:"Cost"}]},networkFeeLabel:{id:"1TgfUs",defaultMessage:[{type:0,value:"Network fee"}]},networkNameLabel:{id:"MWZ9F7",defaultMessage:[{type:0,value:"Network"}]},unknownNetworkLabel:{id:"aihB8f",defaultMessage:[{type:0,value:"Unknown network ["},{type:1,value:"network"},{type:0,value:"]"}]},unknownChainIdLabel:{id:"ZXyz0F",defaultMessage:[{type:0,value:"Unknown chain id "},{type:1,value:"chainId"}]},totalCostLabel:{id:"j9RrnG",defaultMessage:[{type:0,value:"Total cost"}]},nftNameLabel:{id:"7vjoql",defaultMessage:[{type:0,value:"Item"}]},nftName:{id:"+fdnKn",defaultMessage:[{type:1,value:"nftName"}]},collectionNameLabel:{id:"oM6lPv",defaultMessage:[{type:0,value:"Collection"}]},collectionName:{id:"T2MxtE",defaultMessage:[{type:1,value:"collectionName"}]},spendLimitLabel:{id:"ntOJgI",defaultMessage:[{type:0,value:"Spend Limit"}]},fullBalance:{id:"BlUPJH",defaultMessage:[{type:0,value:"Full balance"}]},spendLimitTooltipText:{id:"wAda+E",defaultMessage:[{type:0,value:"The maximum amount the smart contract will be able to withdraw."}]},spendLimitTooltipDetailText:{id:"qPi7hI",defaultMessage:[{type:0,value:"This dapp will be allowed to automatically withdraw "},{type:1,value:"amount"},{type:0,value:" from your wallet"}]},fullBalanceTooltipDetailText:{id:"L3mGDN",defaultMessage:[{type:0,value:"This dapp can withdraw all your "},{type:1,value:"currencyCode"}]}}),L=0n;function S(e,t,n,a,o,b,w){var T,x=(0,s.A)().formatMessage,C=(0,c.J9)(),S=n,A=n,M=L,I=L,R=(0,m.f)(),E=(0,f.d)({wallet:e,isTxPreviewEnabled:R,isTxScannerLoading:t,parsedOperations:a}),j=(0,i._C)(e.network.rawValue),D=(0,u.Z)(j).networkFeeTooltip,P="unableToEstimateGasError"!==(null==w?void 0:w.type),F=(0,r.useMemo)((function(){var e=null==a?void 0:a.preAuthorizeOperations[0];return!e||R?[]:[e.operationType===g.S.ITEM_APPROVAL?{label:x(k.nftNameLabel),detailText:x(k.nftName,{nftName:(0,h.Eu)(e.NFTName||"",15)})}:null,e.operationType===g.S.ITEM_APPROVAL_ALL?{label:x(k.collectionNameLabel),detailText:x(k.collectionName,{collectionName:(0,h.Eu)(e.collectionName||"",15)})}:null]}),[null==a?void 0:a.preAuthorizeOperations,x,R]),O=(0,d.j)(e);n&&S.lowerBoundFee?M=S.lowerBoundFee<S.upperBoundFee?S.lowerBoundFee:S.upperBoundFee:n&&(I=n.estimatedFee);var G=(0,r.useMemo)((function(){var t="";return S?null!=(t=O?C.formatToFiatFeeRange({fromCurrencyCode:S.feeCurrencyCode,decimals:S.feeCurrencyDecimal,upperBoundValue:S.upperBoundFee,isAbbreviated:!1,lowerBoundValue:S.lowerBoundFee,network:S.network,blockchain:S.blockchain}):C.formatToFiat({fromCurrencyCode:A.feeCurrencyCode,decimals:A.feeCurrencyDecimal,value:I,isAbbreviated:!1,contractAddress:void 0,network:e.network,blockchain:e.blockchain}))?t:"":t}),[I,S,C,O,A,e.blockchain,e.network]),U=(0,r.useMemo)((function(){var t="";return S&&n&&!E?null!=(t=O?C.formatToFiatTotalRange({feeCurrencyCode:S.feeCurrencyCode,currencyCode:S.currencyCode,contractAddress:e.contractAddress,network:e.network,blockchain:e.blockchain,fee:S.upperBoundFee,lowerBoundFee:S.lowerBoundFee,amount:n.transferValue,isConfirmed:!1,decimals:e.decimals,includeFee:!0,feeDecimals:S.feeCurrencyDecimal}):C.formatToFiatTotalRange({feeCurrencyCode:A.feeCurrencyCode,currencyCode:A.currencyCode,contractAddress:e.contractAddress,network:e.network,blockchain:e.blockchain,fee:A.estimatedFee,lowerBoundFee:void 0,amount:n.transferValue,isConfirmed:!1,decimals:e.decimals,includeFee:!0,feeDecimals:A.feeCurrencyDecimal}))?t:"":t}),[S,C,O,A,n,e,E]),H=(0,r.useMemo)((function(){if(!n||E)return"";var t=C.fiatValue({currencyCode:n.currencyCode,decimals:e.decimals,value:BigInt(n.transferValue),contractAddress:e.contractAddress,network:e.network,blockchain:e.blockchain,digitsToFixed:2}),a=C.formatToCrypto({currencyCode:n.currencyCode,decimals:e.decimals,value:BigInt(n.transferValue),includeCode:!0,maxDisplayDecimals:5n});return t?"$".concat(t," - ").concat(a):"".concat(a)}),[n,E,C,e]),q=(0,r.useMemo)((function(){if(!j)return x(k.unknownNetworkLabel,{network:e.network.rawValue});var t=l.ay.fromChainId(BigInt(j));return t?t.displayName:x(k.unknownChainIdLabel,{chainId:j.toString()})}),[x,e.network.rawValue,j]),N=(0,r.useMemo)((function(){if(!n)return"";var t=C.fiatValue({currencyCode:n.feeCurrencyCode,decimals:e.decimals,value:BigInt(I),contractAddress:e.contractAddress,network:e.network,blockchain:e.blockchain,digitsToFixed:2});if(t)return"$".concat(t);var a=C.formatToCrypto({currencyCode:n.feeCurrencyCode,decimals:e.decimals,value:BigInt(I),includeCode:!0,maxDisplayDecimals:5n});return"".concat(a)}),[n,C,e,I]),W=(0,r.useMemo)((function(){if(!n)return"";var t=n.transferValue+I,a=C.formatToFiat({fromCurrencyCode:n.feeCurrencyCode,decimals:e.decimals,value:BigInt(t),isAbbreviated:!1,contractAddress:e.contractAddress,network:e.network,blockchain:e.blockchain});if(a)return"".concat(a);var r=C.formatToCrypto({currencyCode:n.feeCurrencyCode,decimals:e.decimals,value:BigInt(t),includeCode:!0});return"".concat(r)}),[n,I,C,e]),B=(0,p.q)({isTxScannerLoading:t,isTxPreviewEnabled:R,parsedOperations:a,blockExplorerUrl:null==n||null===(T=n.network.asChain())||void 0===T?void 0:T.blockExplorerUrl,recipientAddress:null==n?void 0:n.recipientAddress});return(0,r.useMemo)((function(){return y()([null!=o&&o.label?o:null].concat(v(F),[B,null!=n&&n.transferValue&&n.transferValue>0n&&H?{label:x(k.costLabel),detailText:H}:null,P&&M&&{label:x(k.networkFeeLabel),detailText:G,tooltipText:x(D),actionIcon:b},P&&!M&&{label:x(k.networkFeeLabel),detailText:N,tooltipText:x(D)},void 0!==M&&null!=n&&n.transferValue&&n.transferValue>0n&&U?{label:x(k.totalCostLabel),detailText:U}:null,void 0===M&&null!=n&&n.transferValue?{label:x(k.totalCostLabel),detailText:W}:null,{label:x(k.networkNameLabel),detailText:null==q?void 0:q.toString()}]))}),[o,F,B,null==n?void 0:n.transferValue,H,x,P,M,G,D,b,N,U,W,q])}C(S,"useIntl{{ formatMessage }}\nuseCurrencyFormatter{formatter}\nuseIsTxPreviewEnabled{isTxPreviewEnabled}\nuseHideTotalCost{hideTotalCost}\nuseNetworkFeeTooltipMessages{{ networkFeeTooltip }}\nuseMemo{legacyApproveDetails}\nuseIs1559Enabled{is1559Enabled}\nuseMemo{formattedNetworkFee}\nuseMemo{formattedTotalCost}\nuseMemo{formattedCost}\nuseMemo{formattedNetworkName}\nuseMemo{formattedEstimatedNetworkFee}\nuseMemo{formattedEstimatedTotalCost}\nuseAddressInfo{addressInfo}\nuseMemo{}",(function(){return[s.A,c.J9,m.f,f.d,u.Z,d.j,p.q]})),(T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(T.register(k,"messages","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/useTransactionRequestDetails.tsx"),T.register(L,"zero","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/useTransactionRequestDetails.tsx"),T.register(S,"useTransactionRequestDetails","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/useTransactionRequestDetails.tsx")),(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&x(e)},23507:(e,t,n)=>{"use strict";n.d(t,{I:()=>j});var a,r=n(14041),o=n(32183),s=n(8867),i=n(52135),l=n(16835),c=n(72127),u=n(2673),d=n(55799),p=n(84492),f=n(15654),m=n(37742),g=n(35001),h=n(60149),b=n(94330),y=n(74994),v=n(31085);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=w(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=w(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==w(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,s,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=o.call(n)).done)&&(i.push(a.value),i.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},A="var(--foreground-muted)",M=(0,o.YK)({tokenAccessTitle:{id:"fQ+lNc",defaultMessage:[{type:0,value:"Allow token access"}]},nftAccessTitle:{id:"b/bkj/",defaultMessage:[{type:0,value:"Allow NFT access"}]},dappAllowedText:{id:"CUNSOm",defaultMessage:[{type:1,value:"dappHostname"}]},warning:{id:"ZCZhYq",defaultMessage:[{type:0,value:"Only allow dapps that you fully trust with access to your wallet"}]},onlySignText:{id:"crcesR",defaultMessage:[{type:0,value:"Only sign if you fully trust this site with access to your account"}]}});function I(e){var t=e.dappLogoURL,n=e.dappLogoURLAlt,a=e.dappURL,o=e.networkBadgeURL,w=e.networkBadgeAlt,T=e.approveOperation,C=e.request,L=e.blockchain,S=e.chainId,I=(0,r.useMemo)((function(){return(0,i.m)(a)}),[a]);(0,y.MQ)({approveOperation:T,dappURL:I,request:C,blockchain:L});var R=(0,s.A)().formatMessage,E=k((0,r.useState)(t),2),j=E[0],P=E[1],F=(0,r.useMemo)((function(){return null==T?void 0:T.imageUrl}),[T]),O=(0,r.useCallback)((function(e){return{imageUrl:e,contractAddress:"",youtubeUrl:void 0,iframeUrl:void 0,animationUrl:void 0,tokenType:"",collectionName:(!T||T.operationType!==l.S.ITEM_APPROVAL&&T.operationType!==l.S.ITEM_APPROVAL_ALL?"":T.collectionName)||"",tokenId:""}}),[T]),G=(0,r.useCallback)((function(){P(n)}),[n]),U=(0,r.useMemo)((function(){return"BALANCE_APPROVAL"===(null==T?void 0:T.operationType)?M.tokenAccessTitle:"ITEM_APPROVAL_ALL"===(null==T?void 0:T.operationType)||"ITEM_APPROVAL"===(null==T?void 0:T.operationType)?M.nftAccessTitle:null}),[null==T?void 0:T.operationType]);return(0,v.jsxs)(d.a,{bordered:!0,borderRadius:"rounded",flexDirection:"column",spacingHorizontal:2,width:"100%",testID:"tx-approval",children:[(0,v.jsxs)(p.z,{justifyContent:"flex-start",alignItems:"center",children:[(0,v.jsxs)(d.a,{spacingTop:3,position:"relative",children:[(0,v.jsx)(m.W,{source:j,resizeMode:"contain",width:32,height:32,shape:"squircle",alt:n,onError:G}),o?(0,v.jsx)("img",{className:D,src:o,alt:w}):null]}),F?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(d.a,{spacingTop:3,spacingHorizontal:1,children:(0,v.jsx)(u.I,{size:"s",name:"arrowsHorizontal",dangerouslySetColor:A})}),(0,v.jsx)(d.a,{spacingTop:3,children:(0,v.jsx)(c.Vz,x(x({},O(F)),{},{radius:"roundedFull",height:"32px",width:"32px",chainId:S}))})]}):null]}),(0,v.jsx)(d.a,{spacingBottom:.5,spacingTop:3,children:(0,v.jsx)(f.T,{children:Boolean(U)&&(0,v.jsx)(h.f,{as:"h1",children:R(U)})})}),(0,v.jsx)(d.a,{spacingBottom:3,children:(0,v.jsxs)(p.z,{children:[(0,v.jsx)(b.C,{as:"span",color:"foregroundMuted",overflow:"break",testID:"dapp-transaction-request-dapp-host-name",children:R(M.dappAllowedText,{dappHostname:I})}),(0,v.jsx)(g.m,{content:R(M.onlySignText),placement:"bottom",children:(0,v.jsx)(u.I,{testID:"dapp-transaction-request-more-info-icon",name:"info",size:"xs",color:"foregroundMuted",spacingStart:1,spacingTop:.5})})]})})]})}S(I,"useMemo{dappHostname: string}\nuseTriggerTxApprovalLoaded{}\nuseIntl{{\n    formatMessage\n  }}\nuseState{[sourceUrl, setSourceUrl](dappLogoURL)}\nuseMemo{imageUrl}\nuseCallback{collectionImageUrl}\nuseCallback{setAlternativeDappLogoURL}\nuseMemo{headerTitle}",(function(){return[y.MQ,s.A]}));var R,E,j=(0,r.memo)(I),D="nb1wmky";n(23013),(R="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(R.register(A,"ICON_COLOR","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TxApproval/TxApproval.tsx"),R.register(M,"messages","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TxApproval/TxApproval.tsx"),R.register(I,"TxApprovalComponent","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TxApproval/TxApproval.tsx"),R.register(j,"TxApproval","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TxApproval/TxApproval.tsx"),R.register(D,"networkBadge","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TxApproval/TxApproval.tsx")),(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&E(e)},90485:(e,t,n)=>{"use strict";n.d(t,{J:()=>y});var a,r=n(32183),o=n(8867),s=n(85581),i=n(98139),l=n(15654),c=n(95312),u=n(60149),d=n(97541),p=n(74994),f=n(31085);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var m,g,h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},b=(0,r.YK)({title:{id:"3BZzpX",defaultMessage:[{type:0,value:"Something went wrong"}]},description:{id:"MROLtl",defaultMessage:[{type:0,value:"Your funds are safe. Please make sure you have the latest version of Coinbase Wallet."}]},primaryButton:{id:"mlGRj3",defaultMessage:[{type:0,value:"Close"}]}});function y(e){var t,n,a=e.onPressClose,r=e.analyticsData,m=(0,o.A)().formatMessage;return(0,p.Ad)({dappURL:null!==(t=r.dappURL)&&void 0!==t?t:"",request:null!==(n=r.request)&&void 0!==n?n:""}),(0,f.jsxs)(l.T,{justifyContent:"center",alignItems:"center",height:"100%",testID:"web3-request-error-fallback",spacing:2,children:[(0,f.jsx)(c.h,{minVertical:3}),(0,f.jsx)(i.K,{name:"errorRefresh",dimension:"200x200",scaleMultiplier:.8}),(0,f.jsx)(u.f,{as:"h1",align:"center",spacingTop:3,children:m(b.title)}),(0,f.jsx)(d.K,{as:"p",align:"center",spacingTop:3,color:"foregroundMuted",children:m(b.description)}),(0,f.jsx)(c.h,{minVertical:4}),(0,f.jsx)(s.$,{block:!0,onPress:a,testID:"web3-dialog-error-fallback-button",children:m(b.primaryButton)})]})}h(y,"useIntl{{ formatMessage }}\nuseLogWeb3RequestFallbackViewed{}",(function(){return[o.A,p.Ad]})),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(b,"messages","/workspaces/apps/extension/src/screens/Web3/Web3RequestErrorFallback.tsx"),m.register(y,"Web3RequestErrorFallback","/workspaces/apps/extension/src/screens/Web3/Web3RequestErrorFallback.tsx")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)},83992:(e,t,n)=>{"use strict";var a,r,o,s=n(38851),i=n(66430),l=n(10168);function c(e){var t=e.mutationKey,n=e.mutationFn,a=e.onSuccess;return(0,s.n)({mutationKey:t,mutationFn:n,onSuccess:a,retry:function(e,t){return!(t instanceof l.I&&!t.shouldRetry)&&e<i.a_}})}e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(c,"useMutation{}",(function(){return[s.n]})),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&r.register(c,"useMutationWithRetry","/workspaces/libs/data/scw/api/utils/useMutationWithRetry.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},38755:(e,t,n)=>{"use strict";n.d(t,{q:()=>p});var a,r=n(14041),o=n(32183),s=n(8867),i=n(21476);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var l,c,u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},d=(0,o.YK)({toLabel:{id:"2Wn1Up",defaultMessage:[{type:0,value:"To"}]},addressLabel:{id:"Lk+qm8",defaultMessage:[{type:0,value:"Address"}]},dappTxWarningTooltipLabel:{id:"Ifolgy",defaultMessage:[{type:0,value:"Be careful"}]},dappTxWarningTooltipText:{id:"Vdrfzt",defaultMessage:[{type:0,value:"This dapp is requesting an action which can take money from your wallet. Make sure you trust this site."}]},spenderAddressLabel:{id:"aZoEWg",defaultMessage:[{type:0,value:"Address"}]}});function p(e){var t=e.isTxPreviewEnabled,n=e.parsedOperations,a=e.blockExplorerUrl,o=e.recipientAddress,l=e.toAddressItem,c=e.isTxScannerLoading,u=(0,s.A)().formatMessage,p=(0,r.useCallback)((function(e){if(null!=l&&l.value)return{label:u(d.toLabel),detailText:a?{text:(0,i.R)(l.value),blockExplorerUrl:"".concat(a,"/address/").concat(l.address)}:(0,i.R)(l.value),testID:"send-confirmation-wallet-send-to-label"};if(t&&c)return{testID:"address",loadingLabelNode:!0,loadingDetailTextNode:!0,label:u(d.addressLabel)};if(null!=n&&n.hasAggregatedTransfers&&o)return{label:u(d.toLabel),detailText:a?{text:(0,i.R)(o),blockExplorerUrl:"".concat(a,"/address/").concat(o)}:(0,i.R)(o),testID:"send-confirmation-wallet-send-to-label"};var r=(0,i.R)(e);return{label:u(d.addressLabel),detailText:a?{text:r,blockExplorerUrl:"".concat(a,"/address/").concat(e)}:r,testID:"address"}}),[l,t,c,null==n?void 0:n.hasAggregatedTransfers,o,u,a]);return(0,r.useMemo)((function(){if(!t){var e,a=null==n?void 0:n.preAuthorizeOperations[0],r=null!==(e=null==a?void 0:a.spenderAddress)&&void 0!==e?e:o;return r?p(r):null}var s=o?p(o):null;return null!=n&&n.hasAggregatedTransfers?s:1===(null==n?void 0:n.assetChangeOperations.length)&&0===(null==n?void 0:n.preAuthorizeOperations.length)?p(n.assetChangeOperations[0].toAddress):null!=n&&n.assetChangeOperations&&n.assetChangeOperations.length>1&&0===(null==n?void 0:n.preAuthorizeOperations.length)||null!=n&&n.assetChangeOperations&&n.assetChangeOperations.length>=1&&(null==n?void 0:n.preAuthorizeOperations.length)>=1?s:0===(null==n?void 0:n.assetChangeOperations.length)&&1===(null==n?void 0:n.preAuthorizeOperations.length)||0===(null==n?void 0:n.assetChangeOperations.length)&&(null==n?void 0:n.preAuthorizeOperations.length)>1?p(n.preAuthorizeOperations[0].spenderAddress):s}),[t,o,p,n])}u(p,"useIntl{{ formatMessage }}\nuseCallback{addressLabel}\nuseMemo{}",(function(){return[s.A]})),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(d,"messages","/workspaces/libs/data/stores/TxScanner/hooks/useAddressInfo.tsx"),l.register(p,"useAddressInfo","/workspaces/libs/data/stores/TxScanner/hooks/useAddressInfo.tsx")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},95634:(e,t,n)=>{"use strict";n.d(t,{d:()=>l});var a,r,o,s=n(14041),i=n(16835);function l(e){var t=e.wallet,n=e.isTxPreviewEnabled,a=void 0!==n&&n,r=e.isTxScannerLoading,o=void 0!==r&&r,l=e.parsedOperations,c=void 0===l?void 0:l;return(0,s.useMemo)((function(){return!!o||!(!a||null==c||!c.assetChangeOperations.some((function(e){var n;return e.operationType===i.S.BALANCE_TRANSFER&&!e.contractAddress&&e.currencyCode.rawValue===(null===(n=t.network.asChain())||void 0===n?void 0:n.baseAssetCurrencyCode)})))}),[a,o,c,t])}e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(l,"useMemo{}"),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&r.register(l,"useHideTotalCost","/workspaces/libs/data/stores/TxScanner/hooks/useHideTotalCost.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},61415:(e,t,n)=>{"use strict";n.d(t,{B:()=>T});var a,r=n(14041),o=n(32183),s=n(8867),i=n(35333),l=n(13394),c=n(52365),u=n(55799),d=n(15654),p=n(28118),f=n(94330),m=n(31085);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var g,h,b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},y=(0,o.YK)({primeDynamicPresetTitle:{id:"5Qq+hG",defaultMessage:[{type:0,value:"Dynamic"}]},primeDynamicPresetLabel:{id:"aPa7vg",defaultMessage:[{type:0,value:"Fees will be refreshed before signing"}]},primeDynamicPresetTime:{id:"dizobu",defaultMessage:[{type:0,value:"Fastest"}]}}),v="p1b2c8ly",w={outerSpacing:{spacing:2}};function T(e){var t=e.onPress,n=e.minerFees,a=e.unsignedTxOrUserOp,o=(0,s.A)().formatMessage,g=(0,r.useCallback)((function(){try{t()}catch(e){(0,l.gf)({error:e,metadata:{error:null==e?void 0:e.message},context:"prime-dynamic-fee-and-simulation",severity:"error",isHandled:!0})}}),[t]);return(0,i.D)(a)?null:(0,m.jsx)(u.a,{spacingHorizontal:1,spacingBottom:1,children:(0,m.jsx)(p.o,{background:"transparent",borderRadius:"rounded",onPress:g,as:"a",className:v,noScaleOnPress:!0,width:"100%",children:(0,m.jsxs)(d.T,{children:[(0,m.jsx)(c.l,{title:o(y.primeDynamicPresetTitle),description:o(y.primeDynamicPresetTime),detail:n.fast.fiatRangeString,subdetail:n.fast.cryptoRangeString,testID:"prime-adjust-gas-preset-dynamic-cell",outerSpacing:w.outerSpacing}),(0,m.jsx)(f.C,{as:"p",color:"foregroundMuted",spacingBottom:1,spacingHorizontal:2,children:o(y.primeDynamicPresetLabel)})]})})})}b(T,"useIntl{{\n    formatMessage\n  }}\nuseCallback{handlePress}",(function(){return[s.A]})),n(7829),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(y,"messages","/workspaces/libs/wallet-cds-extension/components/SharedAdjustGasPresetStep/PrimeDynamicFeeAndSimulation.tsx"),g.register(v,"primeDynamicPresetContainerStyle","/workspaces/libs/wallet-cds-extension/components/SharedAdjustGasPresetStep/PrimeDynamicFeeAndSimulation.tsx"),g.register(w,"primeDynamicPresetCellSpacing","/workspaces/libs/wallet-cds-extension/components/SharedAdjustGasPresetStep/PrimeDynamicFeeAndSimulation.tsx"),g.register(T,"PrimeDynamicFeeAndSimulation","/workspaces/libs/wallet-cds-extension/components/SharedAdjustGasPresetStep/PrimeDynamicFeeAndSimulation.tsx")),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)},41193:(e,t,n)=>{"use strict";n.d(t,{v:()=>M});var a=n(14041),r=n(32183),o=n(8867),s=n(73779),i=n(76116),l=n(21983),c=n(55452),u=n(34767);function d(e){(0,c.cp)("adjustable_gas.preset_screen_viewed",{loggingId:"01bf5ae7-413f-4732-a676-a497cd03debc",action:u.X2.view,componentType:u.I5.page,flowName:e})}var p,f=n(24905),m=n(60803),g=n(52365),h=n(15654),b=n(61415),y=n(31085);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=v(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e=n.hmd(e),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&p(e);var C,k,L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},S=(0,r.YK)({title:{id:"XB4/lj",defaultMessage:[{type:0,value:"Change speed"}]},fastPresetTitle:{id:"AHURpK",defaultMessage:[{type:0,value:"Fast"}]},normalPresetTitle:{id:"HJCEaL",defaultMessage:[{type:0,value:"Normal"}]},slowPresetTitle:{id:"G7UHQ3",defaultMessage:[{type:0,value:"Slow"}]},customCellTitle:{id:"rWNKmm",defaultMessage:[{type:0,value:"Custom"}]},fastPresetTime:{id:"l8uLpc",defaultMessage:[{type:0,value:"~15 sec"}]},normalPresetTime:{id:"HNQ7JV",defaultMessage:[{type:0,value:"~30 sec"}]},slowPresetTime:{id:"yQwV0U",defaultMessage:[{type:0,value:"45 sec+"}]},customCellDescription:{id:"P0FNv2",defaultMessage:[{type:0,value:"Manual Setting"}]}});function A(){return(0,y.jsxs)(h.T,{spacingHorizontal:1,children:[(0,y.jsx)(m.x,{title:!0,description:!0,detail:!0,subdetail:!0}),(0,y.jsx)(m.x,{title:!0,description:!0,detail:!0,subdetail:!0}),(0,y.jsx)(m.x,{title:!0,description:!0,detail:!0,subdetail:!0})]})}function M(e){var t=e.wallet,n=e.toAddress,r=e.unsignedTxOrUserOp,p=e.isEntireBalance,m=e.initialGasLimit,v=e.handleGenerateTx,w=e.goBack,x=e.goToCustom,C=e.onGasPresetChange,k=e.flowName,L=e.onPrimeDynamicGasChange,M=e.showPrimeDynamicFeeAndSimulation,I=(0,o.A)().formatMessage,R=(0,s.K)(m,t.network,r.l1GasFee);d(k);var E=(0,a.useCallback)((function(e){if(!r)return null;var a={kind:p?"EntireBalance":"Amount",value:r.transferValue},o={selectedBaseFeePerGas:e.baseFeePerGas,selectedMaxFeePerGas:e.maxFeePerGas,selectedMaxPriorityFeePerGas:e.maxPriorityFeePerGas,selectedGasLimit:m};(0,i.Z)({wallet:t,transactionAmount:a,recipientAddress:n,metadata:r.metadata,txOrUserOpConfig:T({txType:"1559",nonce:void 0,dataBuffer:r.data},o)}).then((function(e){v(e),null==C||C(o)}))}),[v,m,p,C,n,r,t]),j=(0,a.useCallback)((function(e,t){return function(){var n;switch(t){case"primeDynamic":n="fast",function(e){(0,c.$s)("adjustable_gas.prime_dynamic_preset_clicked",{loggingId:"ef4796ee-ce12-4b93-923d-0ea05ec5641b",action:u.X2.click,componentType:u.I5.button,flowName:e})}(k);break;case"fast":!function(e){(0,c.$s)("adjustable_gas.fast_preset_clicked",{loggingId:"3bf99d9e-1f67-403d-bf24-1480933042ac",action:u.X2.click,componentType:u.I5.button,flowName:e})}(k);break;case"normal":!function(e){(0,c.$s)("adjustable_gas.normal_preset_clicked",{loggingId:"7600c715-d126-484b-bd1a-dc49800c3ef2",action:u.X2.click,componentType:u.I5.button,flowName:e})}(k);break;case"slow":!function(e){(0,c.$s)("adjustable_gas.slow_preset_clicked",{loggingId:"bf78c628-4890-4487-bc29-6ee272e8f3b9",action:u.X2.click,componentType:u.I5.button,flowName:e})}(k)}return null==L||L(n),E(e)}}),[k,E,L]);return(0,y.jsxs)(h.T,{height:f.pA,children:[(0,y.jsx)(l.u,{onBack:w,title:I(S.title)}),R?(0,y.jsxs)(y.Fragment,{children:[M&&(0,y.jsx)(b.B,{onPress:j(R.fast,"primeDynamic"),minerFees:R,unsignedTxOrUserOp:r}),(0,y.jsx)(g.l,{title:I(S.fastPresetTitle),description:I(S.fastPresetTime),detail:R.fast.fiatRangeString,subdetail:R.fast.cryptoRangeString,onPress:j(R.fast,"fast"),testID:"adjust-gas-preset-fast-cell"}),(0,y.jsx)(g.l,{title:I(S.normalPresetTitle),description:I(S.normalPresetTime),detail:R.normal.fiatRangeString,subdetail:R.normal.cryptoRangeString,onPress:j(R.normal,"normal"),testID:"adjust-gas-preset-normal-cell"}),(0,y.jsx)(g.l,{title:I(S.slowPresetTitle),description:I(S.slowPresetTime),detail:R.slow.fiatRangeString,subdetail:R.slow.cryptoRangeString,onPress:j(R.slow,"slow"),testID:"adjust-gas-preset-slow-cell"})]}):(0,y.jsx)(A,{}),(0,y.jsx)(g.l,{title:I(S.customCellTitle),subdetail:I(S.customCellDescription),onPress:x,testID:"adjust-gas-preset-custom-cell"})]})}L(M,"useIntl{{ formatMessage }}\nuseMinerFeeEstimates{minerFees}\nuseAdjustableGasPresetScreenViewed{}\nuseCallback{generateUnsigned1559Tx}\nuseCallback{handlePressPreset}",(function(){return[o.A,s.K,d]})),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(C.register(S,"messages","/workspaces/libs/wallet-cds-extension/components/SharedAdjustGasPresetStep/SharedAdjustGasPresetStep.tsx"),C.register(A,"Fallback","/workspaces/libs/wallet-cds-extension/components/SharedAdjustGasPresetStep/SharedAdjustGasPresetStep.tsx"),C.register(M,"SharedAdjustGasPresetStep","/workspaces/libs/wallet-cds-extension/components/SharedAdjustGasPresetStep/SharedAdjustGasPresetStep.tsx")),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&k(e)},48784:(e,t,n)=>{"use strict";n.d(t,{m:()=>y});var a,r=n(32183),o=n(8867),s=n(84141),i=n(52338),l=n(22115),c=n(85581),u=n(2673),d=n(15654),p=n(55799),f=n(60149),m=n(97541),g=n(31085);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},b=(0,r.YK)({carefulWarning:{id:"InIXe9",defaultMessage:[{type:0,value:"Fraud warning"}]},allowAndContinueText:{id:"hmCtzs",defaultMessage:[{type:0,value:"Allow and continue"}]},cancel:{id:"kSix9e",defaultMessage:[{type:0,value:"Cancel"}]}});function y(e){var t=e.handlePrimaryButtonPress,n=e.isLoading,a=e.warningContent,r=e.handleCancelButtonPress,h=e.handleBackButton,y=e.analyticsData,v=e.height,w=(0,o.A)().formatMessage;return(0,s.zE)(y),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d.T,{height:v,width:"100%",justifyContent:"space-between",testID:"fraud-confirmation-warning-container",children:(0,g.jsxs)(d.T,{children:[(0,g.jsx)(p.a,{offsetStart:1,zIndex:10,children:(0,g.jsx)(i.K,{name:"backArrow",onPress:h,transparent:!0,accessibilityLabel:"back label",testID:"fraud-confirmation-warning-back-button"})}),(0,g.jsx)(p.a,{spacingTop:4,justifyContent:"center",style:T,children:(0,g.jsx)(u.I,{name:"warning",size:"l",dangerouslySetColor:"#ffd200"})}),(0,g.jsx)(f.f,{spacingTop:10,as:"h3",align:"center",children:w(b.carefulWarning)}),(0,g.jsx)(m.K,{spacingTop:2,as:"p",align:"center",children:a})]})}),(0,g.jsxs)(l.e,{accessibilityLabel:"fraudWarningConfirmationWarningLabel",direction:"vertical",children:[(0,g.jsx)(c.$,{type:"button",variant:"primary",onPress:r,disabled:n,children:w(b.cancel)}),(0,g.jsx)(c.$,{testID:"confirmation-button",type:"button",variant:"negative",onPress:t,loading:n,children:w(b.allowAndContinueText)})]})]})}h(y,"useIntl{{ formatMessage }}\nuseFraudWarningConfirmationPopUpViewed{}",(function(){return[o.A,s.zE]}));var v,w,T={transform:"scale(3)",margin:"10px"};(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(b,"messages","/workspaces/libs/wallet-cds-web/components/FraudWarningConfirmation/FraudWarningConfirmation.tsx"),v.register(y,"FraudWarningConfirmation","/workspaces/libs/wallet-cds-web/components/FraudWarningConfirmation/FraudWarningConfirmation.tsx"),v.register(T,"style","/workspaces/libs/wallet-cds-web/components/FraudWarningConfirmation/FraudWarningConfirmation.tsx")),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&w(e)},95479:(e,t,n)=>{var a=n(93640),r=n(5485),o=a((function(e,t,n){return e+(n?" ":"")+r(t)}));e.exports=o},40601:(e,t,n)=>{"use strict";n.r(t)},23013:(e,t,n)=>{"use strict";n.r(t)},7829:(e,t,n)=>{"use strict";n.r(t)},67662:(e,t,n)=>{"use strict";var a;n.d(t,{l:()=>a}),function(e){e.requestEthereumAccountsResponse="requestEthereumAccountsResponse",e.addEthereumChainDeny="addEthereumChainDeny",e.addEthereumChainApprove="addEthereumChainApprove",e.switchEthereumChainDeny="switchEthereumChainDeny",e.switchEthereumChainApprove="switchEthereumChainApprove",e.signEthereumMessageSuccess="signEthereumMessageSuccess",e.signEthereumTransactionSuccess="signEthereumTransactionSuccess",e.submitEthereumTransactionSuccess="submitEthereumTransactionSuccess",e.watchAssetApprove="watchAssetApprove",e.watchAssetDeny="watchAssetDeny",e.selectProviderApprove="selectProviderApprove",e.selectProviderDeny="selectProviderDeny",e.dappChainSwitched="dappChainSwitched"}(a||(a={}))},56328:(e,t,n)=>{"use strict";n.d(t,{j:()=>i});var a=n(33396);const r=["loading","entry","username","backup","verify","password","success","import","importOrLink","link","scanQr","select-device","select-account","ledger-signing","ledger-connect-device","trezor-connect-device","ledger-success","hwTroubleConnecting","subdomain-cta","subdomain-education","subdomain-claim-success","subdomain-avatar","subdomain-basic-profile"],o=new URLSearchParams(window.location.search).get("step"),s=r.find((e=>e===o)),i=(0,a.KT)({steps:r,defaultStep:s??"loading"})},95974:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var a=n(33396),r=n(56328);function o(){return(0,a.lE)(r.j)}},65103:(e,t,n)=>{"use strict";n.d(t,{Im:()=>o,Zd:()=>i});var a=n(33396),r=n(40019);const o=(0,a.KT)({steps:["transactionRequest","adjustGasPreset","adjustGasCustom"],defaultStep:"transactionRequest"}),s={toAddress:"",unsignedTransaction:void 0,initialGasLimit:0n},i=(0,r.A)({initialValues:s})},19529:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});var a=n(34767);function r(e){(0,a.yu)().finally((()=>{setTimeout((()=>{window.close()}),e||0)}))}},23426:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var a,r=n(14041),o=n(2719);!function(e){e.web3RequestCanceled="web3RequestCanceled",e.parentDisconnected="parentDisconnect"}(a||(a={}));var s=n(74994);function i(){return(0,r.useCallback)((async function({eventId:e,error:t,dappURL:n,blockchain:r,request:i,chainId:l}){return new Promise((c=>{(0,s.j)({request:i,dappURL:n,errorMessage:t.message,errorName:t.name,blockchain:r}),chrome.runtime.sendMessage({type:"extensionUIResponse",data:{id:e,action:a.web3RequestCanceled,error:(0,o.serializeError)(t,i),blockchain:r,chainId:l}},(()=>c()))}))}),[])}},92229:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});var a=n(14041),r=n(99633),o=n(40441),s=n(79669);function i(){const e=(0,r.useRecoilValue)(s.P);return(0,a.useCallback)((()=>{const t=(0,o.$)().get("originTabId");return null!==t&&(e[t]??[]).length>0}),[e])}},36783:(e,t,n)=>{"use strict";n.d(t,{FP:()=>r,ZY:()=>i,kw:()=>a,qC:()=>o,sM:()=>s});class a{constructor(e,t,n,a,r,o,s){this.eventId=e,this.dappName=t,this.dappLogoURL=n,this.dappLogoURLAlt=a,this.dappURL=r,this.sessionId=o,this.sessionSecret=s,this.kind="solanaConnectionRequest"}}class r{constructor(e,t,n,a,r,o){this.eventId=e,this.request=t,this.dappName=n,this.dappLogoURL=a,this.dappLogoURLAlt=r,this.dappURL=o,this.kind="solanaSignMessage"}}class o{constructor(e,t,n,a,r,o){this.eventId=e,this.request=t,this.dappName=n,this.dappLogoURL=a,this.dappLogoURLAlt=r,this.dappURL=o,this.kind="solanaSignTransaction"}}class s{constructor(e,t,n,a,r,o){this.eventId=e,this.request=t,this.dappName=n,this.dappLogoURL=a,this.dappLogoURLAlt=r,this.dappURL=o,this.kind="solanaSignAllTransactions"}}class i{constructor(e,t,n,a,r,o){this.eventId=e,this.request=t,this.dappName=n,this.dappLogoURL=a,this.dappLogoURLAlt=r,this.dappURL=o,this.kind="solanaSendTransaction"}}},22715:(e,t,n)=>{"use strict";n.d(t,{Hs:()=>s,w$:()=>r,yS:()=>o});var a=n(69434);function r(e){return"wallet_sendCalls"===e.method}function o(e){return!!e&&["addEthereumChain","ethereumAddressFromSignedMessage","requestEthereumAccounts","signEthereumMessage","signEthereumTransaction","switchEthereumChain","watchAsset","wallet_sendCalls","wallet_showCallsStatus"].includes(e?.method)}function s(e){return[a.l.signMessage,a.l.sendTransaction,a.l.signTransaction,a.l.signAllTransactions].includes(e.method)}},64593:(e,t,n)=>{"use strict";n.d(t,{q:()=>M});var a=n(13394),r=n(31700),o=(n(74740),n(89962));n(83992),n(10168);const s="scw/getAccounts";function i(e){return{address:(0,o.bv)(e.baseContractAddress),factoryCalldata:e.deploymentMeta?.factoryCalldata,factoryAddress:e.deploymentMeta.factoryAddress,signers:e.signers,contracts:e.contracts,accountChanges:e.accountChanges}}var l=n(62396),c=n(92212),u=n(42066),d=n(58732),p=n(74146),f=n(50259);const m="scwDataForAccount",g=36e5;async function h(e){return r.qQ.fetchQuery({queryKey:[m,e],queryFn:async()=>async function(e){if(!l.g.isSCWAccount(e))return;const t=l.g.parseAddressFromId(e);return b(t)}(e),staleTime:g})}async function b(e){const{accounts:t}=await(0,p.hm)(s,{baseContractAddress:e},{authenticated:!0,setAuthTokens:u.PR,apiVersion:3});if(!t?.length)throw new Error(`No scw account received from backend for account ${await(0,c.o)(l.g.generateID(f.CO.SCW,"ETH",e))}`);const n=t.find((t=>(0,d.L)(t.baseContractAddress,e)));if(!n)throw new Error(`Incorrect scw account from server for client account ${await(0,c.o)(l.g.generateID(f.CO.SCW,"ETH",e))}`);if(!n?.signers?.length)throw new Error(`No signers found for account ${await(0,c.o)(l.g.generateID(f.CO.SCW,"ETH",e))}`);return i(n)}var y=n(30666),v=n(55459),w=n(65846),T=n(92517),x=n(38903);function C(e){return(0,w.di)((0,T.S)((0,x.nj)(e)),0,16)}const k=C("Coinbase Wallet"),L=C("com.coinbase.wallet"),S="0x00";function A(e){if(v.Z.getIsFeatureEnabled("scw_data_suffix")){const n=(t=L)?(0,y.xW)([k,S,t]):k;return(0,y.xW)([e,n])}var t;return e}async function M(e){const t=await h(e);if(!t){const e=new Error("scw data for account undefined");throw(0,a.gf)({context:"scw-error",error:e,isHandled:!1,severity:"error"}),e}return{txType:"UserOp",accountInitCode:A((0,y.xW)([t.factoryAddress,t.factoryCalldata])),paymentMethod:"WALLET"}}},29440:(e,t,n)=>{"use strict";n.d(t,{z:()=>u});var a=n(14041),r=n(56018),o=n(98837),s=n(31860),i=n(79071),l=n.n(i),c=n(22767);function u({wallet:e,unsignedTxsOrUserOps:t,signSuccess:n,signError:i,handleUnlock:u,unlockSuccess:d,unlockError:p,source:f="extension",txSubmissionType:m="original",skipSubmit:g=!0}){const[h,b]=(0,a.useState)(!1),y=(0,o.O)(),v=(0,a.useCallback)((function(t){return async n=>{t&&y([t.asTransaction(n.txHash,n.nonce,e,t.metadata,m)])}}),[y,m,e]),w=(0,a.useCallback)((function(e){return 0n===e.transferValue?l():v(e)}),[v]),T=(0,a.useCallback)((async function(){try{if(!t||t.length<1)return null;const a=[];for(const n of t){const t=await(0,s.Z)({unsignedTxOrUserOp:n,wallet:e,txSubmissionType:"original",skipSubmit:g,onSubmit:w(n),source:f});g||await(0,r.xw)({signature:t.txHash,mainAccountAddress:t.fromAddress,commitment:c.Ac.CONFIRMED,walletIndex:e.selectedIndex??0n,accountId:e.accountId}),a.push(t)}n(a)}catch(e){i(e)}finally{b(!1)}}),[t,n,e,g,w,f,i]),x=(0,a.useCallback)((function(){return b(!0),u({unlockSuccess:function(){d?.(),T()},unlockError:function(e){e&&p?.(e),b(!1)}})}),[u,T,p,d]);return(0,a.useMemo)((()=>({signMultipleTransactionsStandalone:x,isSignMultipleTransactionsStandaloneLoading:h})),[h,x])}},10168:(e,t,n)=>{"use strict";n.d(t,{I:()=>a});class a extends Error{constructor(e,t=!1){super(e),this.message=e,this.shouldRetry=t,this.shouldRetry=t}}},94975:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var a=n(14041),r=n(46122),o=n(52303),s=n(54065),i=n(4244),l=n(27301),c=n(99172);function u(e,t){const n=(0,i.J9)(),{chainId:u}=(0,c.B9)(t.network.rawValue),d=e?.metadata.get(r.E_);return(0,a.useMemo)((()=>{if(!e)return{};if(l.J.isEqual(e.blockchain,r.AA)){if((0,o._)(e)){const a=e,{currencyCode:r,lowerBoundFee:o,upperBoundFee:s,gasLimit:i}=a,{minFeeInUSD:l,maxFeeInUSD:c}=n.formatToFiatFeeMinMax({fromCurrencyCode:r,decimals:t.decimals,upperBoundValue:s,isAbbreviated:!1,lowerBoundValue:o,network:t.network,blockchain:t.blockchain}),{minFeeInCrypto:p,maxFeeInCrypto:f}=n.formatToCryptoMinMax({decimals:t.decimals,lowerBoundValue:o,upperBoundValue:s});return{minFeeInUSD:l,maxFeeInUSD:c,feeCurrencyCode:r.code,upperBoundFee:s.toString(),lowerBoundFee:o.toString(),minFeeInCrypto:p,maxFeeInCrypto:f,gasLimit:i.toString(),chainId:u?.toString(),analyticsId:d,nonce:a.nonce?.toString()}}const a=e,{feeCurrencyCode:r,feeCurrencyDecimal:s,estimatedFee:i,gasLimit:l}=a;return{feeCurrencyCode:r.code,estimatedFee:i.toString(),networkFeeInUSD:n.formatToFiat({fromCurrencyCode:r,decimals:s,value:i,isAbbreviated:!1,contractAddress:void 0,network:t.network,blockchain:t.blockchain,includeCode:!1}),networkFeeInCrypto:n.formatToCrypto({currencyCode:r,decimals:s,value:i,network:t.network,blockchain:t.blockchain,includeCode:!1}),gasLimit:l?.toString(),chainId:u?.toString(),analyticsId:d,nonce:a.nonce?.toString()}}if(l.J.isEqual(e.blockchain,s.lf)){return{feeCurrencyCode:e.feeCurrencyCode.code,networkFeeInCrypto:n.formatToCrypto({currencyCode:e.feeCurrencyCode,decimals:e.feeCurrencyDecimal,value:e.estimatedFee,network:t.network,includeCode:!1}),estimatedFee:e.estimatedFee.toString(),networkFeeInUSD:n.formatToFiat({fromCurrencyCode:e.feeCurrencyCode,decimals:e.feeCurrencyDecimal,value:e.estimatedFee,isAbbreviated:!1,contractAddress:void 0,network:t.network,blockchain:t.blockchain,includeCode:!1}),extraFeeInCrypto:n.formatToCrypto({currencyCode:e.feeCurrencyCode,decimals:e.feeCurrencyDecimal,value:e.extraFee,network:t.network,includeCode:!1,convertFromFiat:!1}),extraFeeInUSD:n.formatToFiat({fromCurrencyCode:e.feeCurrencyCode,decimals:e.feeCurrencyDecimal,value:e.extraFee,isAbbreviated:!1,contractAddress:void 0,network:t.network,blockchain:t.blockchain,includeCode:!1}),chainId:u?.toString(),analyticsId:d}}return{}}),[e,n,t,u,d])}},36760:(e,t,n)=>{"use strict";n.d(t,{j:()=>o});var a=n(14041),r=n(46122);function o(e){return(0,a.useMemo)((()=>!!e&&(0,r.US)(e.network)),[e])}},58732:(e,t,n)=>{"use strict";function a(e,t){return e?.toLowerCase()===t?.toLowerCase()}n.d(t,{L:()=>a})},39139:(e,t,n)=>{"use strict";n.d(t,{Mb:()=>s,Vv:()=>r,Zp:()=>i,iR:()=>o});var a=n(47875);const r={small:{width:136,height:144},medium:{width:312,height:192},large:{width:void 0,height:void 0}},o="96x96",s="64x64",i=(0,a.E)(o)},50297:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var a=n(14041),r=n(39139),o=n(15742),s=n(15654),i=n(28118),l=n(80623),c=n(31085);const u=["children","background","size","onPress","onKeyPress","to","target","href","pin","width","height","accessibilityLabel","accessibilityLabelledBy","accessibilityHint","testID","borderRadius"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const g=(0,a.memo)((e=>{var t,n;let{children:a,background:d="background",size:f="large",onPress:g,onKeyPress:h,to:b,target:y,href:v,pin:w,width:T,height:x,accessibilityLabel:C,accessibilityLabelledBy:k,accessibilityHint:L,testID:S,borderRadius:A}=e,M=m(e,u);const I=null!=T?T:r.Vv[f].width,R=null!=x?x:r.Vv[f].height,E=!0===d?"background":d,j=(0,o.Z)(w),D=Boolean(null!==(t=null!==(n=null!=g?g:h)&&void 0!==n?n:b)&&void 0!==t?t:v),P=(0,c.jsx)(s.T,p(p({background:D?void 0:E,borderRadius:A,height:D?void 0:R,overflow:"hidden",pin:D?void 0:w,testID:D?void 0:S,width:D?void 0:I},M),{},{children:a}));return D?(0,c.jsx)(i.o,{accessibilityHint:L,accessibilityLabel:C,accessibilityLabelledBy:k,background:E,borderRadius:A,className:(0,l.cx)("cds-cardPressableStyles-clz0vut",j),height:R,href:v,onKeyPress:h,onPress:g,target:y,testID:S,to:b,width:I,children:P}):P}));g.displayName="Card"},93652:(e,t,n)=>{"use strict";function a(e,t={}){let n;try{n=e.getClient(t)}catch{}return n}n.d(t,{K:()=>a})},72707:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var a=n(52845);const r=async(e,{hash:t})=>{const n=[t],r=await e.request({method:"eth_getUserOperationReceipt",params:n});if(!r)return null;return{userOpHash:r.userOpHash,sender:r.sender,nonce:BigInt(r.nonce),actualGasUsed:BigInt(r.actualGasUsed),actualGasCost:BigInt(r.actualGasCost),success:r.success,receipt:{transactionHash:r.receipt.transactionHash,transactionIndex:BigInt(r.receipt.transactionIndex),blockHash:r.receipt.blockHash,blockNumber:BigInt(r.receipt.blockNumber),from:r.receipt.from,to:r.receipt.to,cumulativeGasUsed:BigInt(r.receipt.cumulativeGasUsed),status:a.$[r.receipt.status],gasUsed:BigInt(r.receipt.gasUsed),contractAddress:r.receipt.contractAddress,logsBloom:r.receipt.logsBloom,effectiveGasPrice:BigInt(r.receipt.effectiveGasPrice)},logs:r.logs.map((e=>({data:e.data,blockNumber:BigInt(e.blockNumber),blockHash:e.blockHash,transactionHash:e.transactionHash,logIndex:BigInt(e.logIndex),transactionIndex:BigInt(e.transactionIndex),address:e.address,topics:e.topics})))}}}}]);
//# sourceMappingURL=4735.js.map