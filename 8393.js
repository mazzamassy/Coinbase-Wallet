"use strict";(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[8393],{31415:(e,t,n)=>{n.d(t,{y:()=>u});var o,i=n(32183),s=n(8867),a=n(25885),r=n(22115),c=n(85581),l=n(2673),d=n(44659),I=n(31085);e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},M=(0,i.YK)({connectionFailedMessage:{id:"5RXePS",defaultMessage:[{type:0,value:"Connection failed"}]},tryAgainButtonGroup:{id:"0ElHKg",defaultMessage:[{type:0,value:"Action buttons"}]},tryAgainButton:{id:"88moQ1",defaultMessage:[{type:0,value:"Try again"}]}});function u(e){var t=e.resetError,n=(0,s.A)().formatMessage;return(0,I.jsxs)("div",{className:h,children:[(0,I.jsx)(w,{children:(0,I.jsx)(l.I,{name:"error",size:"l",color:"currentColor"})}),(0,I.jsxs)("div",{className:A,children:[(0,I.jsx)("div",{className:x,children:(0,I.jsx)(d.f,{as:"h3",children:n(M.connectionFailedMessage)})}),(0,I.jsx)("div",{className:y,children:(0,I.jsx)(r.e,{block:!0,accessibilityLabel:n(M.tryAgainButtonGroup),children:(0,I.jsx)(c.$,{type:"button",variant:"primary",onPress:t,"data-testid":"try-again",children:n(M.tryAgainButton)})})})]})]})}g(u,"useIntl{{\n    formatMessage\n  }}",(function(){return[s.A]}));var p,m,h="b9dlpow",w=(0,a.I)("div")({name:"IconContainer",class:"iu69ejy",propsAsIs:!1}),A="b1hvuwxf",y="bcmu8fm",x="e1y5zb73";n(95689),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(M,"messages","/workspaces/libs/wallet-cds-extension/components/AuthorizationError.tsx"),p.register(u,"AuthorizationError","/workspaces/libs/wallet-cds-extension/components/AuthorizationError.tsx"),p.register(h,"baseContainer","/workspaces/libs/wallet-cds-extension/components/AuthorizationError.tsx"),p.register(w,"IconContainer","/workspaces/libs/wallet-cds-extension/components/AuthorizationError.tsx"),p.register(A,"buttonContainer","/workspaces/libs/wallet-cds-extension/components/AuthorizationError.tsx"),p.register(y,"buttonPosition","/workspaces/libs/wallet-cds-extension/components/AuthorizationError.tsx"),p.register(x,"errorText","/workspaces/libs/wallet-cds-extension/components/AuthorizationError.tsx")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)},14012:(e,t,n)=>{n.d(t,{h:()=>g});var o,i=n(32183),s=n(8867),a=n(41513),r=n(27183),c=n(39262),l=n(31085);e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},I=(0,i.YK)({HWWalletLogo:{id:"LspCIw",defaultMessage:[{type:0,value:"Hardware Wallet logo"}]},connectedStatusMessage:{id:"y8Pj9x",defaultMessage:[{type:0,value:"Connected"}]}});function g(e){var t=e.authed,n=e.logoSrc,o=e.logoAltText,i=e.onError,d=(0,s.A)().formatMessage;return(0,l.jsxs)("div",{className:p,children:[(0,l.jsx)("div",{className:(0,a.cx)(m,t&&w),"data-testid":"leftLogoAnimating",children:(0,l.jsx)("img",{src:r,alt:d(I.HWWalletLogo)})}),(0,l.jsx)("div",{className:(0,a.cx)(h,t&&A),"data-testid":"rightLogoAnimating",children:(0,l.jsx)("img",{src:n,alt:o,onError:i})}),(0,l.jsx)("div",{className:(0,a.cx)(y,t&&x),"data-testid":"checkmarkCircleAnimating",children:(0,l.jsx)("svg",{className:(0,a.cx)(b,t&&D),viewBox:"0 0 52 52",children:(0,l.jsx)("path",{className:(0,a.cx)(L),fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})})}),(0,l.jsx)("div",{className:(0,a.cx)(j,t&&N),children:(0,l.jsx)(c.w,{as:"span",children:d(I.connectedStatusMessage)})})]})}d(g,"useIntl{{\n    formatMessage\n  }}",(function(){return[s.A]}));var M,u,p="h154r6ok",m="l1fnrvsf",h="r3qznu0",w="l1397gfq",A="r1wisqn7",y="c116rrvj",x="cacjlt9",j="c16m7iou",N="c6fpzap",b="csl79vs",D="cf5aljr",L="c1nfyc1r";n(87486),(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(M.register(I,"messages","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx"),M.register(g,"ConnectionAnimation","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx"),M.register(p,"header","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx"),M.register(m,"leftLogo","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx"),M.register(h,"rightLogo","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx"),M.register(w,"leftLogoAnimating","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx"),M.register(A,"rightLogoAnimating","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx"),M.register(y,"checkmarkCircle","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx"),M.register(x,"checkmarkCircleAnimating","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx"),M.register(j,"connectedText","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx"),M.register(N,"connectedTextAnimating","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx"),M.register(b,"checkmark","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx"),M.register(D,"checkAnimating","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx"),M.register(L,"check","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},14350:(e,t,n)=>{n.d(t,{r:()=>l});var o,i=n(84492),s=n(97541),a=n(31085);e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var r,c;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function l(e){var t=e.children,n=e.text;return(0,a.jsxs)(i.z,{alignItems:"center",spacingTop:2,gap:1,children:[t,(0,a.jsx)(s.K,{as:"p",color:"foregroundMuted",spacingStart:0,children:n})]})}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&r.register(l,"ListItemWithIcon","/workspaces/libs/wallet-cds-extension/components/ListItemIcon.tsx"),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},95689:(e,t,n)=>{n.r(t)},87486:(e,t,n)=>{n.r(t)},67662:(e,t,n)=>{var o;n.d(t,{l:()=>o}),function(e){e.requestEthereumAccountsResponse="requestEthereumAccountsResponse",e.addEthereumChainDeny="addEthereumChainDeny",e.addEthereumChainApprove="addEthereumChainApprove",e.switchEthereumChainDeny="switchEthereumChainDeny",e.switchEthereumChainApprove="switchEthereumChainApprove",e.signEthereumMessageSuccess="signEthereumMessageSuccess",e.signEthereumTransactionSuccess="signEthereumTransactionSuccess",e.submitEthereumTransactionSuccess="submitEthereumTransactionSuccess",e.watchAssetApprove="watchAssetApprove",e.watchAssetDeny="watchAssetDeny",e.selectProviderApprove="selectProviderApprove",e.selectProviderDeny="selectProviderDeny",e.dappChainSwitched="dappChainSwitched"}(o||(o={}))},23426:(e,t,n)=>{n.d(t,{U:()=>r});var o,i=n(14041),s=n(2719);!function(e){e.web3RequestCanceled="web3RequestCanceled",e.parentDisconnected="parentDisconnect"}(o||(o={}));var a=n(74994);function r(){return(0,i.useCallback)((async function({eventId:e,error:t,dappURL:n,blockchain:i,request:r,chainId:c}){return new Promise((l=>{(0,a.j)({request:r,dappURL:n,errorMessage:t.message,errorName:t.name,blockchain:i}),chrome.runtime.sendMessage({type:"extensionUIResponse",data:{id:e,action:o.web3RequestCanceled,error:(0,s.serializeError)(t,r),blockchain:i,chainId:c}},(()=>l()))}))}),[])}},53939:(e,t,n)=>{n.d(t,{I:()=>y});var o=n(14041),i=n(89474),s=n(70918),a=n(56979),r=n(48390),c=n(13446),l=n(22698),d=n(69434),I=n(67662),g=n(55299),M=n(98279),u=n(74994),p=n(81475),m=n(22535),h=n(36897),w=n(99734);const A={[r.L]:I.l.requestEthereumAccountsResponse,[l.j]:d.J.connectionSuccess};function y(e){const{dappProviderType:t,skipResponse:n}=e,l=(0,s.h)(),d=(0,c.C)(l,{dappProviderType:t}),I=function(e){const{dappProviderType:t,selectedDappAddress:n}=e,i=(0,w.u)();return(0,o.useCallback)((async function(e){if(g.walletLinkRelay.selectedAddress&&!i({dappProviderType:t}))throw new Error(`Dapp connections to '${t}' provider is not supported for WalletLink connected users`);return g.walletLinkRelay.selectedAddress?new Promise((async(t,n)=>{const o=setTimeout((()=>{!1===g.walletLinkRelay.isLinked&&g.walletLinkRelay.selectedAddress&&g.walletLinkRelay.selectedAddress.length>0&&n(Error("Couldn't connect dapp to mobile app"))}),2e3);return g.walletLinkRelay.childRequestEthereumAccounts(e.sessionId,e.sessionSecret,e.dappName,e.dappLogoURL,e.dappURL).then((e=>{if(clearTimeout(o),!e)throw Error("Couldn't connect dapp to mobile app");t()})).catch((e=>{clearTimeout(void 0),n(e)}))})).catch((e=>{throw h.Q0.next(new h.pz),e})):m.Q.addConnection({...e,providerType:t,connectedAddress:n}).toPromise()}),[i,t,n])}({dappProviderType:t,selectedDappAddress:d});return(0,o.useCallback)((async function(e){const{dappURL:o}=e,s=function(e){return e===r.L?i.Session.hash(g.walletLinkRelay.session.id):"walletLinkNotConnected"}(t),c=A[t]??"",l=a.b[t];let m="unknown";return I(e).then((async()=>{const i="string"==typeof d;(0,p.R)(`Got connectChild hasResponse: ${i}`);try{m=new URL(o).host}catch(e){const t=`Had error parsing dapp URL '${o}': ${e}`;throw(0,p.R)(t),new Error(t)}if(!i)throw new Error(`No response from host '${m}'`);if(0===c.length)throw new Error(`Empty web3 action string for dapp provider '${t}'`);return n||(await chrome.runtime.sendMessage({type:"extensionUIResponse",data:{id:e.eventId,action:c,addresses:[d],blockchain:l}}),(0,u.rM)({request:c,dappURL:m,eventData:{sessionIdHash:s,childSessionIdHash:e.sessionId},blockchain:l})),!0})).catch((n=>{const o=`Failed to trigger web3 action '${c}' for dapp provider type '${t}' due to error: ${n}`;return(0,p.R)(o),(0,M.HH)({dappURL:m,sessionIdHash:s,childSessionIdHash:e.sessionId,error:o,blockchain:l}),!1}))}),[I,d,t,n])}},92229:(e,t,n)=>{n.d(t,{X:()=>r});var o=n(14041),i=n(99633),s=n(40441),a=n(79669);function r(){const e=(0,i.useRecoilValue)(a.P);return(0,o.useCallback)((()=>{const t=(0,s.$)().get("originTabId");return null!==t&&(e[t]??[]).length>0}),[e])}},99734:(e,t,n)=>{n.d(t,{u:()=>s});var o=n(14041),i=n(48390);function s(){return(0,o.useCallback)((function(e){const{dappProviderType:t}=e;return t===i.L}),[])}},27183:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzQiIGhlaWdodD0iNzQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMzciIGN5PSIzNyIgcj0iMzUiIGZpbGw9IiMxQjUzRTQiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSI0Ii8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zNy4yNDUgNjAuNjEyYy0xMi43NzIgMC0yMy4xMjUtMTAuMzUzLTIzLjEyNS0yMy4xMjUgMC0xMi43NzEgMTAuMzUzLTIzLjEyNSAyMy4xMjUtMjMuMTI1IDEyLjc3MSAwIDIzLjEyNSAxMC4zNTQgMjMuMTI1IDIzLjEyNSAwIDEyLjc3Mi0xMC4zNTQgMjMuMTI1LTIzLjEyNSAyMy4xMjVaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTI5Ljc5NCAzMy4wMjFhMi45ODkgMi45ODkgMCAwIDEgMi45ODktMi45ODloOC45MjVhMi45ODkgMi45ODkgMCAwIDEgMi45ODkgMi45ODl2OC45MjVhMi45ODkgMi45ODkgMCAwIDEtMi45ODkgMi45ODloLTguOTI1YTIuOTg5IDIuOTg5IDAgMCAxLTIuOTktMi45ODl2LTguOTI1WiIgZmlsbD0iIzFCNTNFNCIvPjwvc3ZnPg=="},20492:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODIiIGhlaWdodD0iODIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iNDEiIGN5PSI0MSIgcj0iNDAiIGZpbGw9IiNEOUQ5RDkiLz48Y2lyY2xlIGN4PSI0MSIgY3k9IjQxIiByPSI0MCIgZmlsbD0iIzI4MkIzMSIgc3Ryb2tlPSIjMjgyQjMxIi8+PG1hc2sgaWQ9ImEiIHN0eWxlPSJtYXNrLXR5cGU6YWxwaGEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjAiIHk9IjAiIHdpZHRoPSI4MiIgaGVpZ2h0PSI4MiI+PGNpcmNsZSBjeD0iNDEiIGN5PSI0MSIgcj0iNDAiIGZpbGw9IiMyODJCMzEiIHN0cm9rZT0iIzI4MkIzMSIvPjwvbWFzaz48ZyBtYXNrPSJ1cmwoI2EpIj48cGF0aCBkPSJNNjkuMTE0IDIxLjM0M0EyLjM0MyAyLjM0MyAwIDAgMCA2Ni43NzEgMTlIMTUuMjI4YTIuMzQzIDIuMzQzIDAgMCAwLTIuMzQyIDIuMzQzdjcuMDI4aDU2LjIyOHYtNy4wMjhaIiBmaWxsPSIjNTg4QUY1Ii8+PHBhdGggZD0iTTYzLjI1NyAyMy42ODZhMS4xNzEgMS4xNzEgMCAxIDAgMi4zNDMgMCAxLjE3MSAxLjE3MSAwIDAgMC0yLjM0MyAwWiIgZmlsbD0iIzBBMEIwRCIvPjxwYXRoIGQ9Ik01OC41NzEgMjMuNjg2YTEuMTcxIDEuMTcxIDAgMSAwIDIuMzQzIDAgMS4xNzEgMS4xNzEgMCAwIDAtMi4zNDMgMFoiIGZpbGw9IiM0NjRCNTUiLz48cGF0aCBkPSJNNTMuODg2IDIzLjY4NmExLjE3MSAxLjE3MSAwIDEgMCAyLjM0MiAwIDEuMTcxIDEuMTcxIDAgMCAwLTIuMzQyIDBaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTEyLjg4NiAyOC4zNzJoNTYuMjI4Vjc4YTQgNCAwIDAgMS00IDRIMTYuODg2YTQgNCAwIDAgMS00LTRWMjguMzcxWiIgZmlsbD0iIzQ2NEI1NSIvPjwvZz48bWFzayBpZD0iYiIgc3R5bGU9Im1hc2stdHlwZTphbHBoYSIgbWFza1VuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeD0iMCIgeT0iMCIgd2lkdGg9IjgyIiBoZWlnaHQ9IjgyIj48Y2lyY2xlIGN4PSI0MSIgY3k9IjQxIiByPSI0MCIgZmlsbD0iIzI4MkIzMSIgc3Ryb2tlPSIjMjgyQjMxIi8+PC9tYXNrPjxnIG1hc2s9InVybCgjYikiPjxwYXRoIGQ9Ik02OS4xMTQgMjEuMzQzQTIuMzQzIDIuMzQzIDAgMCAwIDY2Ljc3MSAxOUgxNS4yMjhhMi4zNDMgMi4zNDMgMCAwIDAtMi4zNDIgMi4zNDN2Ny4wMjhoNTYuMjI4di03LjAyOFoiIGZpbGw9IiM1ODhBRjUiLz48cGF0aCBkPSJNNjAgMjMuNWEyLjUgMi41IDAgMSAwIDUgMCAyLjUgMi41IDAgMCAwLTUgMFoiIGZpbGw9IiMwQTBCMEQiLz48cGF0aCBkPSJNNTIgMjMuNWEyLjUgMi41IDAgMSAwIDUgMCAyLjUgMi41IDAgMCAwLTUgMFoiIGZpbGw9IiM0NjRCNTUiLz48cGF0aCBkPSJNNDQgMjMuNWEyLjUgMi41IDAgMSAwIDUgMCAyLjUgMi41IDAgMCAwLTUgMFoiIGZpbGw9IiNmZmYiLz48cGF0aCBkPSJNMTIuODg2IDI4LjM3Mmg1Ni4yMjhWNzhhNCA0IDAgMCAxLTQgNEgxNi44ODZhNCA0IDAgMCAxLTQtNFYyOC4zNzFaIiBmaWxsPSIjNDY0QjU1Ii8+PC9nPjxwYXRoIGZpbGw9IiMyODJCMzEiIGQ9Ik0xOSAzNWgyM3YzSDE5ek0xOSA0MWgzMnYzSDE5ek0xOSA0NmgzOXYyNEgxOXoiLz48L3N2Zz4="}}]);
//# sourceMappingURL=8393.js.map